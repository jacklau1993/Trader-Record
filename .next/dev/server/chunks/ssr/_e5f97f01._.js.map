{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/components/ui/modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { X } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nexport function Modal({ isOpen, onClose, children }: { isOpen: boolean; onClose: () => void; children: React.ReactNode }) {\n    const [mounted, setMounted] = useState(false);\n\n    useEffect(() => setMounted(true), []);\n\n    if (!isOpen || !mounted) return null;\n\n    return createPortal(\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n            <div className=\"w-full max-w-lg rounded-xl border border-border bg-card p-6 shadow-lg relative max-h-[90vh] overflow-y-auto\">\n                <button onClick={onClose} className=\"absolute right-4 top-4 text-muted-foreground hover:text-foreground\">\n                    <X className=\"h-4 w-4\" />\n                </button>\n                {children}\n            </div>\n        </div>,\n        document.body\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMO,SAAS,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAuE;IACpH,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC,IAAM,WAAW,OAAO,EAAE;IAEpC,IAAI,CAAC,UAAU,CAAC,SAAS,OAAO;IAEhC,qBAAO,IAAA,4NAAY,gBACf,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAO,SAAS;oBAAS,WAAU;8BAChC,cAAA,8OAAC,iMAAC;wBAAC,WAAU;;;;;;;;;;;gBAEhB;;;;;;;;;;;cAGT,SAAS,IAAI;AAErB"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/app/actions/note-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { getDb } from \"@/lib/db\";\nimport { notes, sections, noteTags } from \"@/db/schema\";\nimport { eq, desc, and } from \"drizzle-orm\";\nimport { revalidatePath } from \"next/cache\";\n\nasync function getUser() {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session?.user) throw new Error(\"Unauthorized\");\n    return session.user;\n}\n\nexport async function getNotes() {\n    const user = await getUser();\n    const db = getDb();\n\n    // Fetch notes descending by date\n    return await db.select()\n        .from(notes)\n        .where(eq(notes.userId, user.id))\n        .orderBy(desc(notes.date));\n}\n\nexport async function getSections() {\n    const user = await getUser();\n    const db = getDb();\n\n    // Fetch sections or return defaults if empty?\n    // User might need to init sections.\n    const userSections = await db.select().from(sections).where(eq(sections.userId, user.id));\n\n    if (userSections.length === 0) {\n        // Init default sections\n        const defaults = [\"Trade Notes\", \"Daily Journal\", \"Strategy\", \"Backtesting\"];\n        for (const name of defaults) {\n            await db.insert(sections).values({\n                id: `sec_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n                name,\n                userId: user.id\n            });\n        }\n        return await db.select().from(sections).where(eq(sections.userId, user.id));\n    }\n\n    return userSections;\n}\n\nexport async function createNote(data: Omit<typeof notes.$inferInsert, \"userId\">) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.insert(notes).values({\n        ...data,\n        userId: user.id\n    });\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n\nexport async function updateNote(id: string, data: Partial<typeof notes.$inferInsert>) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.update(notes)\n        .set({ ...data, updatedAt: new Date() })\n        .where(and(eq(notes.id, id), eq(notes.userId, user.id)));\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n\nexport async function deleteNote(id: string) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.delete(notes)\n        .where(and(eq(notes.id, id), eq(notes.userId, user.id)));\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;IAiEsB,aAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/app/actions/template-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { getDb } from \"@/lib/db\";\nimport { templates } from \"@/db/schema\";\nimport { eq, and } from \"drizzle-orm\";\nimport { revalidatePath } from \"next/cache\";\n\nasync function getUser() {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session?.user) throw new Error(\"Unauthorized\");\n    return session.user;\n}\n\nexport async function getTemplates() {\n    const user = await getUser();\n    const db = getDb();\n\n    const userTemplates = await db.select().from(templates).where(eq(templates.userId, user.id));\n\n    if (userTemplates.length === 0) {\n        // Init defaults\n        const defaults = [\n            { name: \"Daily Plan\", content: \"\\n# Daily Plan\\n- [ ] Review Overnight Action\\n- [ ] Check Economic Calendar\\n- [ ] Key Levels to Watch:\\n  - ES: \\n  - NQ: \\n\" },\n            { name: \"Trade Review\", content: \"\\n# Trade Review\\n- Setup:\\n- Execution:\\n- Psychology:\\n- Outcome:\\n- Improvements:\\n\" },\n            { name: \"Weekly Review\", content: \"\\n# Weekly Review\\n- P&L: \\n- Best Trade:\\n- Worst Trade:\\n- Lessons Learned:\\n\" }\n        ];\n\n        for (const t of defaults) {\n            await db.insert(templates).values({\n                id: `tmpl_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`,\n                userId: user.id,\n                name: t.name,\n                content: t.content\n            });\n        }\n        return await db.select().from(templates).where(eq(templates.userId, user.id));\n    }\n\n    return userTemplates;\n}\n\nexport async function createTemplate(data: Omit<typeof templates.$inferInsert, \"userId\">) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.insert(templates).values({\n        ...data,\n        userId: user.id\n    });\n    // No specific page to revalidate for templates unless we have a manager page. \n    // But Editor uses them. \n    return { success: true };\n}\n\nexport async function updateTemplate(id: string, data: Partial<typeof templates.$inferInsert>) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.update(templates)\n        .set({ ...data, updatedAt: new Date() })\n        .where(and(eq(templates.id, id), eq(templates.userId, user.id)));\n    return { success: true };\n}\n\nexport async function deleteTemplate(id: string) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.delete(templates).where(and(eq(templates.id, id), eq(templates.userId, user.id)));\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;IAiBsB,eAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/app/actions/template-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { getDb } from \"@/lib/db\";\nimport { templates } from \"@/db/schema\";\nimport { eq, and } from \"drizzle-orm\";\nimport { revalidatePath } from \"next/cache\";\n\nasync function getUser() {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session?.user) throw new Error(\"Unauthorized\");\n    return session.user;\n}\n\nexport async function getTemplates() {\n    const user = await getUser();\n    const db = getDb();\n\n    const userTemplates = await db.select().from(templates).where(eq(templates.userId, user.id));\n\n    if (userTemplates.length === 0) {\n        // Init defaults\n        const defaults = [\n            { name: \"Daily Plan\", content: \"\\n# Daily Plan\\n- [ ] Review Overnight Action\\n- [ ] Check Economic Calendar\\n- [ ] Key Levels to Watch:\\n  - ES: \\n  - NQ: \\n\" },\n            { name: \"Trade Review\", content: \"\\n# Trade Review\\n- Setup:\\n- Execution:\\n- Psychology:\\n- Outcome:\\n- Improvements:\\n\" },\n            { name: \"Weekly Review\", content: \"\\n# Weekly Review\\n- P&L: \\n- Best Trade:\\n- Worst Trade:\\n- Lessons Learned:\\n\" }\n        ];\n\n        for (const t of defaults) {\n            await db.insert(templates).values({\n                id: `tmpl_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`,\n                userId: user.id,\n                name: t.name,\n                content: t.content\n            });\n        }\n        return await db.select().from(templates).where(eq(templates.userId, user.id));\n    }\n\n    return userTemplates;\n}\n\nexport async function createTemplate(data: Omit<typeof templates.$inferInsert, \"userId\">) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.insert(templates).values({\n        ...data,\n        userId: user.id\n    });\n    // No specific page to revalidate for templates unless we have a manager page. \n    // But Editor uses them. \n    return { success: true };\n}\n\nexport async function updateTemplate(id: string, data: Partial<typeof templates.$inferInsert>) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.update(templates)\n        .set({ ...data, updatedAt: new Date() })\n        .where(and(eq(templates.id, id), eq(templates.userId, user.id)));\n    return { success: true };\n}\n\nexport async function deleteTemplate(id: string) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.delete(templates).where(and(eq(templates.id, id), eq(templates.userId, user.id)));\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;IA6CsB,iBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/app/actions/template-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { getDb } from \"@/lib/db\";\nimport { templates } from \"@/db/schema\";\nimport { eq, and } from \"drizzle-orm\";\nimport { revalidatePath } from \"next/cache\";\n\nasync function getUser() {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session?.user) throw new Error(\"Unauthorized\");\n    return session.user;\n}\n\nexport async function getTemplates() {\n    const user = await getUser();\n    const db = getDb();\n\n    const userTemplates = await db.select().from(templates).where(eq(templates.userId, user.id));\n\n    if (userTemplates.length === 0) {\n        // Init defaults\n        const defaults = [\n            { name: \"Daily Plan\", content: \"\\n# Daily Plan\\n- [ ] Review Overnight Action\\n- [ ] Check Economic Calendar\\n- [ ] Key Levels to Watch:\\n  - ES: \\n  - NQ: \\n\" },\n            { name: \"Trade Review\", content: \"\\n# Trade Review\\n- Setup:\\n- Execution:\\n- Psychology:\\n- Outcome:\\n- Improvements:\\n\" },\n            { name: \"Weekly Review\", content: \"\\n# Weekly Review\\n- P&L: \\n- Best Trade:\\n- Worst Trade:\\n- Lessons Learned:\\n\" }\n        ];\n\n        for (const t of defaults) {\n            await db.insert(templates).values({\n                id: `tmpl_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`,\n                userId: user.id,\n                name: t.name,\n                content: t.content\n            });\n        }\n        return await db.select().from(templates).where(eq(templates.userId, user.id));\n    }\n\n    return userTemplates;\n}\n\nexport async function createTemplate(data: Omit<typeof templates.$inferInsert, \"userId\">) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.insert(templates).values({\n        ...data,\n        userId: user.id\n    });\n    // No specific page to revalidate for templates unless we have a manager page. \n    // But Editor uses them. \n    return { success: true };\n}\n\nexport async function updateTemplate(id: string, data: Partial<typeof templates.$inferInsert>) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.update(templates)\n        .set({ ...data, updatedAt: new Date() })\n        .where(and(eq(templates.id, id), eq(templates.userId, user.id)));\n    return { success: true };\n}\n\nexport async function deleteTemplate(id: string) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.delete(templates).where(and(eq(templates.id, id), eq(templates.userId, user.id)));\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;IA0DsB,iBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/app/actions/template-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { getDb } from \"@/lib/db\";\nimport { templates } from \"@/db/schema\";\nimport { eq, and } from \"drizzle-orm\";\nimport { revalidatePath } from \"next/cache\";\n\nasync function getUser() {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session?.user) throw new Error(\"Unauthorized\");\n    return session.user;\n}\n\nexport async function getTemplates() {\n    const user = await getUser();\n    const db = getDb();\n\n    const userTemplates = await db.select().from(templates).where(eq(templates.userId, user.id));\n\n    if (userTemplates.length === 0) {\n        // Init defaults\n        const defaults = [\n            { name: \"Daily Plan\", content: \"\\n# Daily Plan\\n- [ ] Review Overnight Action\\n- [ ] Check Economic Calendar\\n- [ ] Key Levels to Watch:\\n  - ES: \\n  - NQ: \\n\" },\n            { name: \"Trade Review\", content: \"\\n# Trade Review\\n- Setup:\\n- Execution:\\n- Psychology:\\n- Outcome:\\n- Improvements:\\n\" },\n            { name: \"Weekly Review\", content: \"\\n# Weekly Review\\n- P&L: \\n- Best Trade:\\n- Worst Trade:\\n- Lessons Learned:\\n\" }\n        ];\n\n        for (const t of defaults) {\n            await db.insert(templates).values({\n                id: `tmpl_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`,\n                userId: user.id,\n                name: t.name,\n                content: t.content\n            });\n        }\n        return await db.select().from(templates).where(eq(templates.userId, user.id));\n    }\n\n    return userTemplates;\n}\n\nexport async function createTemplate(data: Omit<typeof templates.$inferInsert, \"userId\">) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.insert(templates).values({\n        ...data,\n        userId: user.id\n    });\n    // No specific page to revalidate for templates unless we have a manager page. \n    // But Editor uses them. \n    return { success: true };\n}\n\nexport async function updateTemplate(id: string, data: Partial<typeof templates.$inferInsert>) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.update(templates)\n        .set({ ...data, updatedAt: new Date() })\n        .where(and(eq(templates.id, id), eq(templates.userId, user.id)));\n    return { success: true };\n}\n\nexport async function deleteTemplate(id: string) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.delete(templates).where(and(eq(templates.id, id), eq(templates.userId, user.id)));\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;IAoEsB,iBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/components/notebook/Editor.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { List, Tag as TagIcon, Save, Check, Settings, Plus, Trash } from \"lucide-react\";\n// import { Note, saveNote, getTemplates, saveTemplates, Template } from \"@/lib/storage\"; // REMOVED\nimport { Modal } from \"@/components/ui/modal\";\nimport { updateNote } from \"@/app/actions/note-actions\";\nimport { getTemplates, createTemplate, updateTemplate, deleteTemplate } from \"@/app/actions/template-actions\";\n\n// Define compatible types locally or import\ninterface Template {\n    id: string;\n    name: string;\n    content: string;\n}\n\ninterface Note {\n    id: string;\n    title: string;\n    content: string;\n    date: string;\n}\n\nexport function Editor({ selectedNote, onSave }: { selectedNote: any | null, onSave: () => void }) {\n    const [content, setContent] = useState(\"\");\n    const [title, setTitle] = useState(\"\");\n    const [isSaved, setIsSaved] = useState(false);\n    const [showTemplates, setShowTemplates] = useState(false);\n    const [templates, setTemplates] = useState<Template[]>([]);\n\n    // Template Manager State\n    const [isManageOpen, setIsManageOpen] = useState(false);\n    const [editingTemplate, setEditingTemplate] = useState<Template | null>(null);\n\n    // Fetch templates on mount\n    useEffect(() => {\n        getTemplates().then((data: any[]) => setTemplates(data));\n    }, []);\n\n    useEffect(() => {\n        if (selectedNote) {\n            setTitle(selectedNote.title);\n            setContent(selectedNote.content);\n            setIsSaved(false);\n        } else {\n            setTitle(\"\");\n            setContent(\"\");\n        }\n    }, [selectedNote]);\n\n    const handleSave = async () => {\n        if (!selectedNote) return;\n        setIsSaved(true); // Optimistic UI\n\n        await updateNote(selectedNote.id, {\n            title,\n            content\n        });\n\n        onSave(); // Refresh parent list\n        setTimeout(() => setIsSaved(false), 2000);\n    };\n\n    const insertTemplate = (templateContent: string) => {\n        setContent(prev => prev + templateContent);\n        setShowTemplates(false);\n    };\n\n    const saveTemplate = async () => {\n        if (!editingTemplate) return;\n\n        // Optimistic Update\n        let newTemplates = [...templates];\n        const existingIndex = newTemplates.findIndex(t => t.id === editingTemplate.id);\n        if (existingIndex >= 0) {\n            newTemplates[existingIndex] = editingTemplate;\n            await updateTemplate(editingTemplate.id, { name: editingTemplate.name, content: editingTemplate.content });\n        } else {\n            newTemplates.push(editingTemplate);\n            await createTemplate({\n                id: editingTemplate.id,\n                name: editingTemplate.name,\n                content: editingTemplate.content\n            });\n        }\n\n        setTemplates(newTemplates);\n        setEditingTemplate(null);\n\n        // Refresh triggers implicit re-fetch if needed, but local state is fine.\n    };\n\n    const handleDeleteTemplate = async (id: string) => {\n        if (confirm(\"Delete this template?\")) {\n            const newTemplates = templates.filter(t => t.id !== id);\n            setTemplates(newTemplates);\n            await deleteTemplate(id);\n            if (editingTemplate?.id === id) setEditingTemplate(null);\n        }\n    };\n\n    const insertImage = () => {\n        const url = prompt(\"Enter Image URL:\");\n        if (url) {\n            setContent(prev => prev + `\\n<img src=\"${url}\" alt=\"Image\" style=\"max-width: 100%; border-radius: 8px; margin-top: 10px;\" />\\n`);\n        }\n    };\n\n    if (!selectedNote) {\n        return (\n            <div className=\"flex h-full items-center justify-center text-muted-foreground\">\n                Select a page to start writing\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"flex h-full flex-col\">\n            <div className=\"border-b border-border p-4\">\n                <input\n                    type=\"text\"\n                    className=\"w-full bg-transparent text-3xl font-bold focus:outline-none\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    placeholder=\"Page Title\"\n                />\n                <div className=\"mt-2 flex items-center space-x-2 text-sm text-muted-foreground\">\n                    <span>{selectedNote.date}</span>\n                </div>\n            </div>\n\n            {/* Toolbar */}\n            <div className=\"flex items-center border-b border-border bg-muted/20 px-4 py-2 space-x-2 relative\">\n                {/* Templates Dropdown */}\n                <div className=\"relative\">\n                    <button onClick={() => setShowTemplates(!showTemplates)} className=\"flex items-center space-x-1 px-2 py-1 text-xs bg-background border border-border rounded hover:bg-muted transition-colors\">\n                        <List className=\"h-3 w-3\" />\n                        <span>Templates</span>\n                    </button>\n                    {showTemplates && (\n                        <div className=\"absolute top-full left-0 mt-1 w-56 bg-card border border-border shadow-lg rounded-md z-10 py-1 flex flex-col\">\n                            <div className=\"max-h-60 overflow-y-auto\">\n                                {templates.map(t => (\n                                    <button\n                                        key={t.id}\n                                        onClick={() => insertTemplate(t.content)}\n                                        className=\"block w-full text-left px-4 py-2 text-xs hover:bg-muted truncate\"\n                                    >\n                                        {t.name}\n                                    </button>\n                                ))}\n                            </div>\n                            <div className=\"border-t border-border mt-1 pt-1\">\n                                <button\n                                    onClick={() => { setIsManageOpen(true); setShowTemplates(false); }}\n                                    className=\"w-full text-left px-4 py-2 text-xs hover:bg-muted flex items-center text-muted-foreground\"\n                                >\n                                    <Settings className=\"h-3 w-3 mr-2\" />\n                                    Manage Templates\n                                </button>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                <div className=\"h-4 w-[1px] bg-border mx-2\" />\n\n                <button\n                    onClick={insertImage}\n                    className=\"flex items-center space-x-1 px-2 py-1 text-xs bg-background border border-border rounded hover:bg-muted transition-colors\"\n                >\n                    <TagIcon className=\"h-3 w-3\" />\n                    <span>Add Image</span>\n                </button>\n\n                <div className=\"flex-1\" />\n                <button\n                    onClick={handleSave}\n                    className={`flex items-center space-x-1 px-3 py-1 text-xs rounded transition-colors ${isSaved ? \"bg-green-500/20 text-green-500\" : \"bg-primary text-primary-foreground hover:bg-primary/90\"\n                        }`}\n                >\n                    {isSaved ? <Check className=\"h-3 w-3\" /> : <Save className=\"h-3 w-3\" />}\n                    <span>{isSaved ? \"Saved\" : \"Save\"}</span>\n                </button>\n            </div>\n\n            <textarea\n                className=\"flex-1 resize-none bg-transparent p-6 focus:outline-none font-mono text-sm leading-relaxed\"\n                placeholder=\"Start typing...\"\n                value={content}\n                onChange={(e) => setContent(e.target.value)}\n            />\n            <p className=\"px-6 pb-2 text-[10px] text-muted-foreground/50 text-right\">Markdown & HTML supported</p>\n\n            {/* Template Manager Modal */}\n            <Modal isOpen={isManageOpen} onClose={() => { setIsManageOpen(false); setEditingTemplate(null); }}>\n                <h2 className=\"text-xl font-bold mb-4\">Manage Templates</h2>\n\n                {editingTemplate ? (\n                    <div className=\"space-y-4\">\n                        <div>\n                            <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">Template Name</label>\n                            <input\n                                className=\"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm\"\n                                value={editingTemplate.name}\n                                onChange={e => setEditingTemplate({ ...editingTemplate, name: e.target.value })}\n                            />\n                        </div>\n                        <div>\n                            <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">Content</label>\n                            <textarea\n                                className=\"w-full h-40 bg-muted/50 border border-input rounded px-3 py-2 text-sm font-mono\"\n                                value={editingTemplate.content}\n                                onChange={e => setEditingTemplate({ ...editingTemplate, content: e.target.value })}\n                            />\n                        </div>\n                        <div className=\"flex space-x-2\">\n                            <button onClick={saveTemplate} className=\"flex-1 bg-primary text-primary-foreground hover:bg-primary/90 py-2 rounded text-sm font-medium\">\n                                Save Template\n                            </button>\n                            <button onClick={() => setEditingTemplate(null)} className=\"flex-1 bg-muted text-foreground hover:bg-muted/80 py-2 rounded text-sm font-medium\">\n                                Cancel\n                            </button>\n                        </div>\n                    </div>\n                ) : (\n                    <div className=\"space-y-4\">\n                        <div className=\"space-y-2\">\n                            {templates.map(t => (\n                                <div key={t.id} className=\"flex items-center justify-between p-3 border border-border rounded-lg bg-muted/20\">\n                                    <span className=\"text-sm font-medium\">{t.name}</span>\n                                    <div className=\"flex space-x-2\">\n                                        <button onClick={() => setEditingTemplate(t)} className=\"p-1 hover:bg-primary/10 text-primary rounded\">\n                                            <Settings className=\"h-4 w-4\" />\n                                        </button>\n                                        <button onClick={() => handleDeleteTemplate(t.id)} className=\"p-1 hover:bg-destructive/10 text-destructive rounded\">\n                                            <Trash className=\"h-4 w-4\" />\n                                        </button>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                        <button\n                            onClick={() => setEditingTemplate({ id: `t_${Date.now()}`, name: \"New Template\", content: \"\" })}\n                            className=\"w-full flex items-center justify-center space-x-2 border border-dashed border-border py-3 rounded-lg hover:bg-muted/50 transition-colors text-muted-foreground\"\n                        >\n                            <Plus className=\"h-4 w-4\" />\n                            <span>Create New Template</span>\n                        </button>\n                    </div>\n                )}\n            </Modal>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 674, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/app/actions/note-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { getDb } from \"@/lib/db\";\nimport { notes, sections, noteTags } from \"@/db/schema\";\nimport { eq, desc, and } from \"drizzle-orm\";\nimport { revalidatePath } from \"next/cache\";\n\nasync function getUser() {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session?.user) throw new Error(\"Unauthorized\");\n    return session.user;\n}\n\nexport async function getNotes() {\n    const user = await getUser();\n    const db = getDb();\n\n    // Fetch notes descending by date\n    return await db.select()\n        .from(notes)\n        .where(eq(notes.userId, user.id))\n        .orderBy(desc(notes.date));\n}\n\nexport async function getSections() {\n    const user = await getUser();\n    const db = getDb();\n\n    // Fetch sections or return defaults if empty?\n    // User might need to init sections.\n    const userSections = await db.select().from(sections).where(eq(sections.userId, user.id));\n\n    if (userSections.length === 0) {\n        // Init default sections\n        const defaults = [\"Trade Notes\", \"Daily Journal\", \"Strategy\", \"Backtesting\"];\n        for (const name of defaults) {\n            await db.insert(sections).values({\n                id: `sec_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n                name,\n                userId: user.id\n            });\n        }\n        return await db.select().from(sections).where(eq(sections.userId, user.id));\n    }\n\n    return userSections;\n}\n\nexport async function createNote(data: Omit<typeof notes.$inferInsert, \"userId\">) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.insert(notes).values({\n        ...data,\n        userId: user.id\n    });\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n\nexport async function updateNote(id: string, data: Partial<typeof notes.$inferInsert>) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.update(notes)\n        .set({ ...data, updatedAt: new Date() })\n        .where(and(eq(notes.id, id), eq(notes.userId, user.id)));\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n\nexport async function deleteNote(id: string) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.delete(notes)\n        .where(and(eq(notes.id, id), eq(notes.userId, user.id)));\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;IAoDsB,aAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 686, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/app/actions/note-actions.ts"],"sourcesContent":["\"use server\";\n\nimport { auth } from \"@/lib/auth\";\nimport { headers } from \"next/headers\";\nimport { getDb } from \"@/lib/db\";\nimport { notes, sections, noteTags } from \"@/db/schema\";\nimport { eq, desc, and } from \"drizzle-orm\";\nimport { revalidatePath } from \"next/cache\";\n\nasync function getUser() {\n    const session = await auth.api.getSession({\n        headers: await headers()\n    });\n    if (!session?.user) throw new Error(\"Unauthorized\");\n    return session.user;\n}\n\nexport async function getNotes() {\n    const user = await getUser();\n    const db = getDb();\n\n    // Fetch notes descending by date\n    return await db.select()\n        .from(notes)\n        .where(eq(notes.userId, user.id))\n        .orderBy(desc(notes.date));\n}\n\nexport async function getSections() {\n    const user = await getUser();\n    const db = getDb();\n\n    // Fetch sections or return defaults if empty?\n    // User might need to init sections.\n    const userSections = await db.select().from(sections).where(eq(sections.userId, user.id));\n\n    if (userSections.length === 0) {\n        // Init default sections\n        const defaults = [\"Trade Notes\", \"Daily Journal\", \"Strategy\", \"Backtesting\"];\n        for (const name of defaults) {\n            await db.insert(sections).values({\n                id: `sec_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n                name,\n                userId: user.id\n            });\n        }\n        return await db.select().from(sections).where(eq(sections.userId, user.id));\n    }\n\n    return userSections;\n}\n\nexport async function createNote(data: Omit<typeof notes.$inferInsert, \"userId\">) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.insert(notes).values({\n        ...data,\n        userId: user.id\n    });\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n\nexport async function updateNote(id: string, data: Partial<typeof notes.$inferInsert>) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.update(notes)\n        .set({ ...data, updatedAt: new Date() })\n        .where(and(eq(notes.id, id), eq(notes.userId, user.id)));\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n\nexport async function deleteNote(id: string) {\n    const user = await getUser();\n    const db = getDb();\n\n    await db.delete(notes)\n        .where(and(eq(notes.id, id), eq(notes.userId, user.id)));\n\n    revalidatePath(\"/notebook\");\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;IA6EsB,aAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA"}},
    {"offset": {"line": 698, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/components/notebook/NotebookClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Folder, Plus, Trash2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Editor } from \"@/components/notebook/Editor\";\nimport { createNote, deleteNote } from \"@/app/actions/note-actions\";\nimport { useRouter } from \"next/navigation\";\n\n// Types\ninterface Section {\n    id: string;\n    name: string;\n    userId: string;\n}\n\ninterface Note {\n    id: string;\n    sectionId: string;\n    title: string;\n    date: string;\n    content: string;\n    userId: string;\n}\n\nexport default function NotebookClient({ initialSections, initialNotes }: { initialSections: Section[], initialNotes: Note[] }) {\n    const [sections, setSections] = useState<Section[]>(initialSections);\n    const [notes, setNotes] = useState<Note[]>(initialNotes);\n    const [activeSection, setActiveSection] = useState(initialSections[0]?.id || \"s1\");\n    const [activeNoteId, setActiveNoteId] = useState<string | null>(null);\n    const router = useRouter();\n\n    useEffect(() => {\n        setSections(initialSections);\n        setNotes(initialNotes);\n        if (initialSections.length > 0 && !initialSections.find(s => s.id === activeSection)) {\n            setActiveSection(initialSections[0].id);\n        }\n    }, [initialSections, initialNotes]);\n\n    const handleCreateNote = async () => {\n        const id = `note_${Date.now()}`;\n        const date = new Date().toISOString().split('T')[0];\n\n        // Optimistic\n        const newNote: any = {\n            id,\n            sectionId: activeSection,\n            title: \"New Note\",\n            date,\n            content: \"\",\n            userId: \"temp\" // irrelevant for UI\n        };\n        setNotes([newNote, ...notes]);\n        setActiveNoteId(id);\n\n        try {\n            await createNote({\n                id,\n                sectionId: activeSection,\n                title: \"New Note\",\n                date,\n                content: \"\"\n            });\n            router.refresh();\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    const handleDeleteNote = async (noteId: string) => {\n        if (!confirm(\"Are you sure you want to delete this note?\")) return;\n\n        setNotes(notes.filter(n => n.id !== noteId));\n        if (activeNoteId === noteId) setActiveNoteId(null);\n\n        try {\n            await deleteNote(noteId);\n            router.refresh();\n        } catch (error) { console.error(error); }\n    };\n\n    const handleNoteUpdated = () => {\n        // Triggered by Editor on save. \n        // We might want to re-fetch or use router.refresh().\n        // Editor calls onSave which we passed.\n        router.refresh();\n    };\n\n    const currentNotes = notes.filter(n => n.sectionId === activeSection);\n    const activeNote = notes.find(n => n.id === activeNoteId) || null;\n\n    return (\n        <div className=\"flex h-screen max-h-[calc(100vh-2rem)] overflow-hidden m-4 rounded-xl border border-border bg-card shadow-sm\">\n\n            {/* Sections Sidebar (Left) */}\n            <div className=\"w-60 border-r border-border bg-muted/10 flex flex-col\">\n                <div className=\"p-4 border-b border-border font-semibold flex justify-between items-center\">\n                    <span>Notebooks</span>\n                </div>\n                <div className=\"flex-1 overflow-y-auto p-2 space-y-1\">\n                    {sections.map(section => (\n                        <button\n                            key={section.id}\n                            onClick={() => { setActiveSection(section.id); setActiveNoteId(null); }}\n                            className={cn(\n                                \"w-full flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium hover:bg-muted transition-colors\",\n                                activeSection === section.id ? \"bg-primary/10 text-primary\" : \"text-muted-foreground\"\n                            )}\n                        >\n                            <Folder className=\"h-4 w-4\" />\n                            <span className=\"flex-1 text-left\">{section.name}</span>\n                            <span className=\"text-xs opacity-50\">{notes.filter(n => n.sectionId === section.id).length}</span>\n                        </button>\n                    ))}\n                </div>\n            </div>\n\n            {/* Notes List (Middle) */}\n            <div className=\"w-72 border-r border-border bg-background flex flex-col\">\n                <div className=\"p-4 border-b border-border font-semibold flex justify-between items-center\">\n                    <span>Pages</span>\n                    <button onClick={handleCreateNote} className=\"hover:bg-muted p-1 rounded\"><Plus className=\"h-4 w-4\" /></button>\n                </div>\n                <div className=\"flex-1 overflow-y-auto\">\n                    {currentNotes.length === 0 ? (\n                        <div className=\"p-4 text-sm text-muted-foreground text-center\">No pages here</div>\n                    ) : (\n                        currentNotes.map(note => (\n                            <div\n                                key={note.id}\n                                className={cn(\n                                    \"group w-full flex flex-col items-start px-4 py-3 border-b border-border/50 hover:bg-muted/50 transition-colors text-left relative cursor-pointer\",\n                                    activeNoteId === note.id ? \"bg-muted/50 border-l-2 border-l-primary pl-[14px]\" : \"\"\n                                )}\n                                onClick={() => setActiveNoteId(note.id)}\n                            >\n                                <div className=\"flex justify-between w-full\">\n                                    <h4 className={cn(\"text-sm font-semibold\", activeNoteId === note.id ? \"text-primary\" : \"\")}>{note.title}</h4>\n                                    <button\n                                        className=\"opacity-0 group-hover:opacity-100 p-1 hover:bg-destructive/10 text-destructive rounded transition-all\"\n                                        onClick={(e) => {\n                                            e.stopPropagation();\n                                            handleDeleteNote(note.id);\n                                        }}\n                                    >\n                                        <Trash2 className=\"h-3 w-3\" />\n                                    </button>\n                                </div>\n                                <div className=\"flex items-center justify-between mt-1 w-full\">\n                                    <span className=\"text-xs text-muted-foreground\">{note.date}</span>\n                                </div>\n                                <p className=\"text-xs text-muted-foreground mt-1 line-clamp-1\">{note.content.substring(0, 30)}...</p>\n                            </div>\n                        ))\n                    )}\n                </div>\n            </div>\n\n            {/* Editor (Right) */}\n            <div className=\"flex-1 bg-background\">\n                <Editor key={activeNote ? activeNote.id : 'empty'} selectedNote={activeNote} onSave={handleNoteUpdated} />\n            </div>\n\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}