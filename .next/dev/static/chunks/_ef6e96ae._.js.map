{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n    ({ className, ...props }, ref) => (\n        <div\n            ref={ref}\n            className={cn(\"rounded-xl border border-border bg-card text-card-foreground shadow-sm\", className)}\n            {...props}\n        />\n    )\n);\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n    ({ className, ...props }, ref) => (\n        <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n    )\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n    ({ className, ...props }, ref) => (\n        <h3 ref={ref} className={cn(\"font-semibold leading-none tracking-tight\", className)} {...props} />\n    )\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n    ({ className, ...props }, ref) => (\n        <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n    )\n);\nCardContent.displayName = \"CardContent\";\n\nexport { Card, CardHeader, CardTitle, CardContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2KAAgB,MACzB,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtB,6LAAC;QACG,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,0EAA0E;QACvF,GAAG,KAAK;;;;;;;AAIrB,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAG3F,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAC9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtB,6LAAC;QAAG,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAAa,GAAG,KAAK;;;;;;;AAGtG,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAChC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAGtE,YAAY,WAAW,GAAG"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/components/dashboard/StatCard.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { LucideIcon } from \"lucide-react\";\n\ninterface StatCardProps {\n    title: string;\n    value: string | number;\n    icon: LucideIcon;\n    trend?: string;\n    trendUp?: boolean;\n}\n\nexport function StatCard({ title, value, icon: Icon, trend, trendUp }: StatCardProps) {\n    return (\n        <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle className=\"text-sm font-medium text-muted-foreground\">{title}</CardTitle>\n                <Icon className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n                <div className=\"text-2xl font-bold\">{value}</div>\n                {trend && (\n                    <p className={`text-xs ${trendUp ? \"text-green-500\" : \"text-red-500\"} flex items-center mt-1`}>\n                        {trend}\n                    </p>\n                )}\n            </CardContent>\n        </Card>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAWO,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,OAAO,EAAiB;IAChF,qBACI,6LAAC,oIAAI;;0BACD,6LAAC,0IAAU;gBAAC,WAAU;;kCAClB,6LAAC,yIAAS;wBAAC,WAAU;kCAA6C;;;;;;kCAClE,6LAAC;wBAAK,WAAU;;;;;;;;;;;;0BAEpB,6LAAC,2IAAW;;kCACR,6LAAC;wBAAI,WAAU;kCAAsB;;;;;;oBACpC,uBACG,6LAAC;wBAAE,WAAW,CAAC,QAAQ,EAAE,UAAU,mBAAmB,eAAe,uBAAuB,CAAC;kCACxF;;;;;;;;;;;;;;;;;;AAMzB;KAjBgB"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/components/dashboard/ProfitChart.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport { ResponsiveContainer, AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip } from \"recharts\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Trade } from \"@/lib/storage\";\nimport { format, parseISO, compareAsc } from \"date-fns\";\n\nexport function ProfitChart({ trades }: { trades: Trade[] }) {\n    const data = useMemo(() => {\n        if (trades.length === 0) return [];\n\n        // Aggregate by date\n        const dailyPnl: Record<string, number> = {};\n        trades.forEach(t => {\n            const date = t.date;\n            dailyPnl[date] = (dailyPnl[date] || 0) + t.pnl;\n        });\n\n        // Create sorted array and compute cumulative\n        const sortedDates = Object.keys(dailyPnl).sort((a, b) => compareAsc(parseISO(a), parseISO(b)));\n\n        let cumulative = 0;\n        return sortedDates.map(date => {\n            cumulative += dailyPnl[date];\n            return {\n                date: format(parseISO(date), 'MMM dd'),\n                pl: cumulative, // Cumulative P&L\n                daily: dailyPnl[date]\n            };\n        });\n    }, [trades]);\n\n    return (\n        <Card className=\"col-span-4\">\n            <CardHeader>\n                <CardTitle>Cumulative Net P&L</CardTitle>\n            </CardHeader>\n            <CardContent className=\"pl-2\">\n                <div className=\"h-[300px]\">\n                    {data.length > 0 ? (\n                        <ResponsiveContainer width=\"100%\" height=\"100%\">\n                            <AreaChart data={data}>\n                                <defs>\n                                    <linearGradient id=\"colorPl\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                        <stop offset=\"5%\" stopColor=\"#3b82f6\" stopOpacity={0.8} />\n                                        <stop offset=\"95%\" stopColor=\"#3b82f6\" stopOpacity={0} />\n                                    </linearGradient>\n                                </defs>\n                                <XAxis\n                                    dataKey=\"date\"\n                                    stroke=\"#64748b\"\n                                    fontSize={12}\n                                    tickLine={false}\n                                    axisLine={false}\n                                />\n                                <YAxis\n                                    stroke=\"#64748b\"\n                                    fontSize={12}\n                                    tickLine={false}\n                                    axisLine={false}\n                                    tickFormatter={(value) => `$${value}`}\n                                />\n                                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#334155\" vertical={false} />\n                                <Tooltip\n                                    contentStyle={{ backgroundColor: '#1e293b', border: 'none', borderRadius: '8px', color: '#f8fafc' }}\n                                    itemStyle={{ color: '#f8fafc' }}\n                                    formatter={(value: any) => [`$${value}`, \"Net P&L\"]}\n                                />\n                                <Area\n                                    type=\"monotone\"\n                                    dataKey=\"pl\"\n                                    stroke=\"#3b82f6\"\n                                    strokeWidth={2}\n                                    fillOpacity={1}\n                                    fill=\"url(#colorPl)\"\n                                />\n                            </AreaChart>\n                        </ResponsiveContainer>\n                    ) : (\n                        <div className=\"flex h-full items-center justify-center text-muted-foreground\">\n                            No data available\n                        </div>\n                    )}\n                </div>\n            </CardContent>\n        </Card>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;;;AANA;;;;;AAQO,SAAS,YAAY,EAAE,MAAM,EAAuB;;IACvD,MAAM,OAAO,IAAA,wKAAO;qCAAC;YACjB,IAAI,OAAO,MAAM,KAAK,GAAG,OAAO,EAAE;YAElC,oBAAoB;YACpB,MAAM,WAAmC,CAAC;YAC1C,OAAO,OAAO;6CAAC,CAAA;oBACX,MAAM,OAAO,EAAE,IAAI;oBACnB,QAAQ,CAAC,KAAK,GAAG,CAAC,QAAQ,CAAC,KAAK,IAAI,CAAC,IAAI,EAAE,GAAG;gBAClD;;YAEA,6CAA6C;YAC7C,MAAM,cAAc,OAAO,IAAI,CAAC,UAAU,IAAI;yDAAC,CAAC,GAAG,IAAM,IAAA,0JAAU,EAAC,IAAA,sJAAQ,EAAC,IAAI,IAAA,sJAAQ,EAAC;;YAE1F,IAAI,aAAa;YACjB,OAAO,YAAY,GAAG;6CAAC,CAAA;oBACnB,cAAc,QAAQ,CAAC,KAAK;oBAC5B,OAAO;wBACH,MAAM,IAAA,kKAAM,EAAC,IAAA,sJAAQ,EAAC,OAAO;wBAC7B,IAAI;wBACJ,OAAO,QAAQ,CAAC,KAAK;oBACzB;gBACJ;;QACJ;oCAAG;QAAC;KAAO;IAEX,qBACI,6LAAC,oIAAI;QAAC,WAAU;;0BACZ,6LAAC,0IAAU;0BACP,cAAA,6LAAC,yIAAS;8BAAC;;;;;;;;;;;0BAEf,6LAAC,2IAAW;gBAAC,WAAU;0BACnB,cAAA,6LAAC;oBAAI,WAAU;8BACV,KAAK,MAAM,GAAG,kBACX,6LAAC,6LAAmB;wBAAC,OAAM;wBAAO,QAAO;kCACrC,cAAA,6LAAC,qKAAS;4BAAC,MAAM;;8CACb,6LAAC;8CACG,cAAA,6LAAC;wCAAe,IAAG;wCAAU,IAAG;wCAAI,IAAG;wCAAI,IAAG;wCAAI,IAAG;;0DACjD,6LAAC;gDAAK,QAAO;gDAAK,WAAU;gDAAU,aAAa;;;;;;0DACnD,6LAAC;gDAAK,QAAO;gDAAM,WAAU;gDAAU,aAAa;;;;;;;;;;;;;;;;;8CAG5D,6LAAC,iKAAK;oCACF,SAAQ;oCACR,QAAO;oCACP,UAAU;oCACV,UAAU;oCACV,UAAU;;;;;;8CAEd,6LAAC,iKAAK;oCACF,QAAO;oCACP,UAAU;oCACV,UAAU;oCACV,UAAU;oCACV,eAAe,CAAC,QAAU,CAAC,CAAC,EAAE,OAAO;;;;;;8CAEzC,6LAAC,iLAAa;oCAAC,iBAAgB;oCAAM,QAAO;oCAAU,UAAU;;;;;;8CAChE,6LAAC,qKAAO;oCACJ,cAAc;wCAAE,iBAAiB;wCAAW,QAAQ;wCAAQ,cAAc;wCAAO,OAAO;oCAAU;oCAClG,WAAW;wCAAE,OAAO;oCAAU;oCAC9B,WAAW,CAAC,QAAe;4CAAC,CAAC,CAAC,EAAE,OAAO;4CAAE;yCAAU;;;;;;8CAEvD,6LAAC,+JAAI;oCACD,MAAK;oCACL,SAAQ;oCACR,QAAO;oCACP,aAAa;oCACb,aAAa;oCACb,MAAK;;;;;;;;;;;;;;;;6CAKjB,6LAAC;wBAAI,WAAU;kCAAgE;;;;;;;;;;;;;;;;;;;;;;AAQvG;GAhFgB;KAAA"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/components/dashboard/CalendarHeatmap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { startOfMonth, endOfMonth, eachDayOfInterval, format, getDay, addMonths, subMonths, isSameDay, startOfWeek, endOfWeek, isSameMonth } from \"date-fns\";\nimport { cn } from \"@/lib/utils\";\nimport { Trade } from \"@/lib/storage\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\n\nexport function CalendarHeatmap({ trades }: { trades: Trade[] }) {\n    const [currentDate, setCurrentDate] = useState(new Date());\n\n    const { paddedDays, dailyData, weeklyStats, currentMonthLabel } = useMemo(() => {\n        // 1. Map trades to daily P&L and Count\n        const dailyMap: Record<string, { pnl: number, count: number }> = {};\n\n        trades.forEach(t => {\n            if (!dailyMap[t.date]) dailyMap[t.date] = { pnl: 0, count: 0 };\n            dailyMap[t.date].pnl += t.pnl;\n            dailyMap[t.date].count += 1;\n        });\n\n        // 2. Build Calendar Grid based on Current Month state\n        const start = startOfMonth(currentDate);\n        const end = endOfMonth(currentDate);\n\n        // Ensure we start from Monday (if that's preferred) or Sunday. date-fns default is Sunday=0.\n        // Let's stick to standard grid where index 0 is Sunday or we can shift.\n        // The previous implementation used Mon-Sun columns. Let's stick to that: Mon(1)..Sun(0/7)\n\n        const daysInMonth = eachDayOfInterval({ start, end });\n        const startDayOfWeek = getDay(start) === 0 ? 6 : getDay(start) - 1; // Mon=0, Sun=6\n\n        // Create array with padding\n        const days = Array(startDayOfWeek).fill(null).concat(daysInMonth);\n\n        // 3. Calculate Weekly Stats\n        // We need to group 'days' into chunks of 7\n        const weeks = [];\n        for (let i = 0; i < days.length; i += 7) {\n            weeks.push(days.slice(i, i + 7));\n        }\n\n        const weeklyStatsData = weeks.map(week => {\n            let pnl = 0;\n            let count = 0;\n            week.forEach(day => {\n                if (day) {\n                    const dateStr = format(day, \"yyyy-MM-dd\");\n                    const data = dailyMap[dateStr];\n                    if (data) {\n                        pnl += data.pnl;\n                        count += data.count;\n                    }\n                }\n            });\n            return { pnl, count };\n        });\n\n        return {\n            paddedDays: days, // Flat list for grid if we used grid-cols-7, but we might want row-based rendering now to align with weekly stats\n            weeks,\n            dailyData: dailyMap,\n            weeklyStats: weeklyStatsData,\n            currentMonthLabel: format(currentDate, 'MMMM yyyy')\n        };\n    }, [trades, currentDate]);\n\n    return (\n        <Card className=\"col-span-3\">\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                <CardTitle>{currentMonthLabel}</CardTitle>\n                <div className=\"flex items-center space-x-2\">\n                    <button onClick={() => setCurrentDate(subMonths(currentDate, 1))} className=\"p-1 hover:bg-muted rounded text-muted-foreground hover:text-foreground\"><ChevronLeft className=\"h-4 w-4\" /></button>\n                    <button onClick={() => setCurrentDate(new Date())} className=\"text-xs text-primary hover:underline\">Today</button>\n                    <button onClick={() => setCurrentDate(addMonths(currentDate, 1))} className=\"p-1 hover:bg-muted rounded text-muted-foreground hover:text-foreground\"><ChevronRight className=\"h-4 w-4\" /></button>\n                </div>\n            </CardHeader>\n            <CardContent>\n                {/* Header Row */}\n                <div className=\"grid grid-cols-8 gap-2 text-center text-xs text-muted-foreground mb-2 font-medium\">\n                    <div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>\n                    <div className=\"text-primary font-bold\">Wkly</div>\n                </div>\n\n                {/* Weeks Rows */}\n                <div className=\"space-y-2\">\n                    {/* Pad the last row if needed is handled by slice, but rendering needs care */}\n                    {/* The hooks logic produced 'weeks' array which contains Date objects or nulls */}\n                    {/* We map over weeks to create rows */}\n                    {/* Note: 'weeks' from the hook might have the last week incomplete. We fill it visually. */}\n\n                    {/* Re-using the weeks from useMemo */}\n                    {(this as any /* simple workaround or just use the variable */) &&\n                        // We need to define weeks in valid scope, the useMemo returns it.\n                        // Let's use the returned `weeks`\n                        (function () {\n                            const { weeks, dailyData, weeklyStats } = useMemo(() => {\n                                // Start Logic Copy (This is bad to duplicate, I should restructure comp)\n                                // ... actually I will just use the values derived above in the main render\n                                return { weeks: [], dailyData: {}, weeklyStats: [] }; // dummy for TS check in this string block if isolated\n                            }, []);\n                        })\n                    }\n\n                    {/* Actual Render Loop */}\n                    {/* We will iterate over the `weeks` derived in useMemo */}\n\n                    {/* Note: I can't access `weeks` inside the JSX if I closed the useMemo scope. \n                I did return `weeks` from useMemo. So I can map it.\n             */}\n                </div>\n\n                <div className=\"space-y-2\">\n                    {(useMemo(() => {\n                        // Re-calculate simply for the render or rely on the var above. \n                        // The variable `weeks` is available in scope.\n                        return (paddedDays as any[]); // dummy\n                    }, []) && false) ||\n\n                        // Map the weeks\n                        // @ts-ignore\n                        (Object.values(useMemo(() => ({ weeks }), [paddedDays]).weeks).length === 0 ? [] : (useMemo(() => {\n                            // This block is getting messy due to string limitations. \n                            // I will write clean code in the actual file content below.\n                            return [];\n                        }, [])))\n                    }\n\n                    {/* CLEAN RENDER LOGIC */}\n                    {/* I will use the `weeks` variable from the hook above */}\n                    {/* Since I am writing the file content, I can just write the map directly. */}\n\n                    {/* weeks is Array<Array<Date|null>> */}\n                    {/* weeklyStats is Array<{pnl, count}> */}\n\n                    {/* weeks and weeklyStats have same index alignment */}\n                    {/* @ts-ignore */}\n                    {Array.isArray(weeks) && weeks.map((week: (Date | null)[], weekIndex: number) => (\n                        <div key={weekIndex} className=\"grid grid-cols-8 gap-2\">\n                            {/* Days */}\n                            {week.map((day, dayIndex) => {\n                                // Fill undefined/null slots at end of month if any?\n                                // The slice might return less than 7 items for the last week?\n                                // No, slice(i, i+7) on a potentially short array?\n                                // If array is 10 items, slice(7, 14) gives 3 items.\n                                // We need to pad visually.\n\n                                if (!day && day !== null) { // if the array ended\n                                    return <div key={`pad-end-${dayIndex}`} className=\"aspect-square\" />;\n                                }\n\n                                if (!day) return <div key={`pad-start-${dayIndex}`} className=\"aspect-square\" />;\n\n                                const dateStr = format(day, \"yyyy-MM-dd\");\n                                const data = dailyData[dateStr];\n                                const pnl = data?.pnl;\n\n                                let bgClass = \"bg-secondary\";\n                                if (pnl && pnl > 0) bgClass = \"bg-green-500/20 text-green-500 border-green-500/50\";\n                                else if (pnl && pnl < 0) bgClass = \"bg-red-500/20 text-red-500 border-red-500/50\";\n\n                                // Check if today\n                                const isToday = isSameDay(day, new Date());\n                                const todayClass = isToday ? \"ring-2 ring-primary ring-offset-2 ring-offset-background\" : \"\";\n\n                                return (\n                                    <div\n                                        key={dateStr}\n                                        className={cn(\n                                            \"aspect-square flex flex-col items-center justify-center rounded-md border border-transparent transition-all hover:scale-105 cursor-pointer relative\",\n                                            bgClass, todayClass\n                                        )}\n                                        title={`${dateStr}: $${pnl || 0}`}\n                                    >\n                                        <div className=\"text-[10px] font-bold\">{format(day, \"d\")}</div>\n                                        {pnl !== undefined && pnl !== 0 && (\n                                            <div className=\"text-[9px] font-semibold leading-none\">\n                                                {pnl > 0 ? \"+\" : \"\"}{Math.round(pnl)}\n                                            </div>\n                                        )}\n                                    </div>\n                                );\n                            })}\n\n                            {/* Pad end of week if week.length < 7 */}\n                            {Array.from({ length: 7 - week.length }).map((_, i) => (\n                                <div key={`pad-end-row-${i}`} className=\"aspect-square\" />\n                            ))}\n\n                            {/* Weekly Stat */}\n                            <div className=\"aspect-square flex flex-col items-center justify-center rounded-md bg-muted/30 border border-border text-xs\">\n                                <span className={cn(\"font-bold\", weeklyStats[weekIndex].pnl > 0 ? \"text-green-500\" : (weeklyStats[weekIndex].pnl < 0 ? \"text-red-500\" : \"text-muted-foreground\"))}>\n                                    {weeklyStats[weekIndex].pnl > 0 ? \"+\" : \"\"}{Math.round(weeklyStats[weekIndex].pnl / 1000)}k\n                                </span>\n                                <span className=\"text-[9px] text-muted-foreground\">{weeklyStats[weekIndex].count}t</span>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </CardContent>\n        </Card>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/lib/storage.ts"],"sourcesContent":["\"use client\";\n\n// Types\nexport interface Tag {\n    id: string;\n    name: string;\n    color?: string;\n}\n\nexport interface Category {\n    id: string;\n    name: string;\n    tags: Tag[];\n}\n\nexport interface Trade {\n    id: string;\n    date: string;\n    ticker: string;\n    type: \"Long\" | \"Short\";\n    entryPrice: number;\n    exitPrice: number;\n    quantity: number;\n    pnl: number;\n    tags: string[]; // Tag IDs\n    notes: string;\n\n    // New Fields\n    contracts?: number;\n    points?: number;\n    ticks?: number;\n    rating?: number; // 1-5 or 1-10\n    profitTarget?: number;\n    stopLoss?: number;\n    plannedRR?: number;\n    realizedRR?: number;\n}\n\nexport interface Note {\n    id: string;\n    sectionId: string;\n    title: string;\n    date: string;\n    content: string;\n    tags: string[]; // Tag strings or IDs\n}\n\nexport interface Section {\n    id: string;\n    name: string;\n}\n\n// Initial Data\nconst INITIAL_CATEGORIES: Category[] = [\n    {\n        id: \"cat_mistakes\",\n        name: \"Mistakes\",\n        tags: [\n            { id: \"tag_fomo\", name: \"FOMO\", color: \"text-red-500 bg-red-500/10\" },\n            { id: \"tag_revenge\", name: \"Revenge\", color: \"text-red-500 bg-red-500/10\" },\n        ]\n    },\n    {\n        id: \"cat_strategies\",\n        name: \"Strategies\",\n        tags: [\n            { id: \"tag_breakout\", name: \"Breakout\", color: \"text-blue-500 bg-blue-500/10\" },\n            { id: \"tag_reversal\", name: \"Reversal\", color: \"text-blue-500 bg-blue-500/10\" },\n        ]\n    },\n    {\n        id: \"cat_timeframe\",\n        name: \"Time Frame\",\n        tags: [\n            { id: \"tag_1m\", name: \"1 Minute\", color: \"text-yellow-500 bg-yellow-500/10\" },\n        ]\n    }\n];\n\nconst INITIAL_SECTIONS: Section[] = [\n    { id: \"s1\", name: \"Trade Notes\" },\n    { id: \"s2\", name: \"Daily Journal\" },\n    { id: \"s3\", name: \"Strategy\" },\n    { id: \"s4\", name: \"Backtesting\" },\n];\n\n// Helper Functions\nconst STORAGE_KEYS = {\n    TRADES: \"trading_journal_trades\",\n    CATEGORIES: \"trading_journal_categories\",\n    NOTES: \"trading_journal_notes\",\n    SECTIONS: \"trading_journal_sections\",\n};\n\n// --- TRADES ---\nexport const getTrades = (): Trade[] => {\n    if (typeof window === \"undefined\") return [];\n    const start = localStorage.getItem(STORAGE_KEYS.TRADES);\n    return start ? JSON.parse(start) : [];\n};\n\nexport const saveTrade = (trade: Trade) => {\n    const trades = getTrades();\n    const index = trades.findIndex(t => t.id === trade.id);\n    let newTrades;\n    if (index >= 0) {\n        newTrades = [...trades];\n        newTrades[index] = trade;\n    } else {\n        newTrades = [trade, ...trades];\n    }\n    localStorage.setItem(STORAGE_KEYS.TRADES, JSON.stringify(newTrades));\n    return newTrades;\n};\n\n// --- CATEGORIES ---\nexport const getCategories = (): Category[] => {\n    if (typeof window === \"undefined\") return INITIAL_CATEGORIES;\n    const stored = localStorage.getItem(STORAGE_KEYS.CATEGORIES);\n    if (!stored) {\n        localStorage.setItem(STORAGE_KEYS.CATEGORIES, JSON.stringify(INITIAL_CATEGORIES));\n        return INITIAL_CATEGORIES;\n    }\n    return JSON.parse(stored);\n};\n\nexport const saveCategories = (categories: Category[]) => {\n    localStorage.setItem(STORAGE_KEYS.CATEGORIES, JSON.stringify(categories));\n};\n\n// --- NOTES ---\nexport const getSections = (): Section[] => {\n    if (typeof window === \"undefined\") return INITIAL_SECTIONS;\n    const stored = localStorage.getItem(STORAGE_KEYS.SECTIONS);\n    if (!stored) {\n        localStorage.setItem(STORAGE_KEYS.SECTIONS, JSON.stringify(INITIAL_SECTIONS));\n        return INITIAL_SECTIONS;\n    }\n    return JSON.parse(stored);\n}\n\nexport const getNotes = (): Note[] => {\n    if (typeof window === \"undefined\") return [];\n    const stored = localStorage.getItem(STORAGE_KEYS.NOTES);\n    return stored ? JSON.parse(stored) : [];\n}\n\nexport const saveNote = (note: Note) => {\n    const notes = getNotes();\n    const index = notes.findIndex(n => n.id === note.id);\n    let newNotes;\n    if (index >= 0) {\n        newNotes = [...notes];\n        newNotes[index] = note;\n    } else {\n        newNotes = [note, ...notes];\n    }\n    localStorage.setItem(STORAGE_KEYS.NOTES, JSON.stringify(newNotes));\n    return newNotes;\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AAoDA,eAAe;AACf,MAAM,qBAAiC;IACnC;QACI,IAAI;QACJ,MAAM;QACN,MAAM;YACF;gBAAE,IAAI;gBAAY,MAAM;gBAAQ,OAAO;YAA6B;YACpE;gBAAE,IAAI;gBAAe,MAAM;gBAAW,OAAO;YAA6B;SAC7E;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;YACF;gBAAE,IAAI;gBAAgB,MAAM;gBAAY,OAAO;YAA+B;YAC9E;gBAAE,IAAI;gBAAgB,MAAM;gBAAY,OAAO;YAA+B;SACjF;IACL;IACA;QACI,IAAI;QACJ,MAAM;QACN,MAAM;YACF;gBAAE,IAAI;gBAAU,MAAM;gBAAY,OAAO;YAAmC;SAC/E;IACL;CACH;AAED,MAAM,mBAA8B;IAChC;QAAE,IAAI;QAAM,MAAM;IAAc;IAChC;QAAE,IAAI;QAAM,MAAM;IAAgB;IAClC;QAAE,IAAI;QAAM,MAAM;IAAW;IAC7B;QAAE,IAAI;QAAM,MAAM;IAAc;CACnC;AAED,mBAAmB;AACnB,MAAM,eAAe;IACjB,QAAQ;IACR,YAAY;IACZ,OAAO;IACP,UAAU;AACd;AAGO,MAAM,YAAY;IACrB;;IACA,MAAM,QAAQ,aAAa,OAAO,CAAC,aAAa,MAAM;IACtD,OAAO,QAAQ,KAAK,KAAK,CAAC,SAAS,EAAE;AACzC;AAEO,MAAM,YAAY,CAAC;IACtB,MAAM,SAAS;IACf,MAAM,QAAQ,OAAO,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,MAAM,EAAE;IACrD,IAAI;IACJ,IAAI,SAAS,GAAG;QACZ,YAAY;eAAI;SAAO;QACvB,SAAS,CAAC,MAAM,GAAG;IACvB,OAAO;QACH,YAAY;YAAC;eAAU;SAAO;IAClC;IACA,aAAa,OAAO,CAAC,aAAa,MAAM,EAAE,KAAK,SAAS,CAAC;IACzD,OAAO;AACX;AAGO,MAAM,gBAAgB;IACzB;;IACA,MAAM,SAAS,aAAa,OAAO,CAAC,aAAa,UAAU;IAC3D,IAAI,CAAC,QAAQ;QACT,aAAa,OAAO,CAAC,aAAa,UAAU,EAAE,KAAK,SAAS,CAAC;QAC7D,OAAO;IACX;IACA,OAAO,KAAK,KAAK,CAAC;AACtB;AAEO,MAAM,iBAAiB,CAAC;IAC3B,aAAa,OAAO,CAAC,aAAa,UAAU,EAAE,KAAK,SAAS,CAAC;AACjE;AAGO,MAAM,cAAc;IACvB;;IACA,MAAM,SAAS,aAAa,OAAO,CAAC,aAAa,QAAQ;IACzD,IAAI,CAAC,QAAQ;QACT,aAAa,OAAO,CAAC,aAAa,QAAQ,EAAE,KAAK,SAAS,CAAC;QAC3D,OAAO;IACX;IACA,OAAO,KAAK,KAAK,CAAC;AACtB;AAEO,MAAM,WAAW;IACpB;;IACA,MAAM,SAAS,aAAa,OAAO,CAAC,aAAa,KAAK;IACtD,OAAO,SAAS,KAAK,KAAK,CAAC,UAAU,EAAE;AAC3C;AAEO,MAAM,WAAW,CAAC;IACrB,MAAM,QAAQ;IACd,MAAM,QAAQ,MAAM,SAAS,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,EAAE;IACnD,IAAI;IACJ,IAAI,SAAS,GAAG;QACZ,WAAW;eAAI;SAAM;QACrB,QAAQ,CAAC,MAAM,GAAG;IACtB,OAAO;QACH,WAAW;YAAC;eAAS;SAAM;IAC/B;IACA,aAAa,OAAO,CAAC,aAAa,KAAK,EAAE,KAAK,SAAS,CAAC;IACxD,OAAO;AACX"}},
    {"offset": {"line": 970, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/components/AddTradeModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { X, Plus } from \"lucide-react\";\n// import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Category, getCategories, Trade, saveTrade } from \"@/lib/storage\";\n\n// Simplified Modal Implementation since we don't have a Dialog component in ui/ yet\nfunction Modal({ isOpen, onClose, children }: { isOpen: boolean; onClose: () => void; children: React.ReactNode }) {\n    if (!isOpen) return null;\n    return (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n            <div className=\"w-full max-w-lg rounded-xl border border-border bg-card p-6 shadow-lg relative\">\n                <button onClick={onClose} className=\"absolute right-4 top-4 text-muted-foreground hover:text-foreground\">\n                    <X className=\"h-4 w-4\" />\n                </button>\n                {children}\n            </div>\n        </div>\n    );\n}\n\nexport function AddTradeModal({ onTradeAdded }: { onTradeAdded: () => void }) {\n    const [isOpen, setIsOpen] = useState(false);\n    const [categories, setCategories] = useState<Category[]>([]);\n\n    // Form State\n    const [formData, setFormData] = useState<Partial<Trade>>({\n        type: \"Long\",\n        tags: []\n    });\n\n    useEffect(() => {\n        if (isOpen) {\n            setCategories(getCategories());\n        }\n    }, [isOpen]);\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n        const trade: Trade = {\n            id: `trade_${Date.now()}`,\n            date: formData.date || new Date().toISOString().split('T')[0],\n            ticker: formData.ticker?.toUpperCase() || \"\",\n            type: formData.type as \"Long\" | \"Short\",\n            entryPrice: Number(formData.entryPrice) || 0,\n            exitPrice: Number(formData.exitPrice) || 0,\n            quantity: Number(formData.quantity) || 0,\n            pnl: Number(formData.pnl) || 0,\n            tags: formData.tags || [],\n            notes: formData.notes || \"\"\n        };\n        saveTrade(trade);\n        onTradeAdded();\n        setIsOpen(false);\n        setFormData({ type: \"Long\", tags: [] }); // Reset\n    };\n\n    const toggleTag = (tagId: string) => {\n        const currentTags = formData.tags || [];\n        if (currentTags.includes(tagId)) {\n            setFormData({ ...formData, tags: currentTags.filter(t => t !== tagId) });\n        } else {\n            setFormData({ ...formData, tags: [...currentTags, tagId] });\n        }\n    };\n\n    return (\n        <>\n            <button\n                onClick={() => setIsOpen(true)}\n                className=\"bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-md font-medium flex items-center shadow-lg shadow-primary/20 transition-all hover:scale-105\"\n            >\n                <Plus className=\"h-4 w-4 mr-2\" />\n                New Trade\n            </button>\n\n            <Modal isOpen={isOpen} onClose={() => setIsOpen(false)}>\n                <h2 className=\"text-xl font-bold mb-4\">Log New Trade</h2>\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                            <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">Date</label>\n                            <input type=\"date\" required className=\"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm\"\n                                onChange={e => setFormData({ ...formData, date: e.target.value })}\n                            />\n                        </div>\n                        <div>\n                            <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">Ticker</label>\n                            <input type=\"text\" placeholder=\"AAPL\" required className=\"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm uppercase\"\n                                onChange={e => setFormData({ ...formData, ticker: e.target.value })}\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <div>\n                            <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">Direction</label>\n                            <div className=\"flex bg-muted/50 rounded p-1\">\n                                {[\"Long\", \"Short\"].map(type => (\n                                    <button\n                                        key={type}\n                                        type=\"button\"\n                                        onClick={() => setFormData({ ...formData, type: type as any })}\n                                        className={`flex-1 text-sm py-1 rounded transition-colors ${formData.type === type ? (type === 'Long' ? 'bg-green-500/20 text-green-500' : 'bg-red-500/20 text-red-500') : 'text-muted-foreground'}`}\n                                    >\n                                        {type}\n                                    </button>\n                                ))}\n                            </div>\n                        </div>\n                        <div>\n                            <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">Net P&L ($)</label>\n                            <input type=\"number\" step=\"0.01\" placeholder=\"0.00\" required className=\"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm\"\n                                onChange={e => setFormData({ ...formData, pnl: Number(e.target.value) })}\n                            />\n                        </div>\n                    </div>\n\n                    <div>\n                        <label className=\"text-xs font-medium text-muted-foreground mb-2 block\">Tags</label>\n                        <div className=\"max-h-32 overflow-y-auto space-y-3 p-2 border border-border rounded bg-muted/10\">\n                            {categories.map(cat => (\n                                <div key={cat.id}>\n                                    <p className=\"text-[10px] uppercase tracking-wider text-muted-foreground font-bold mb-1\">{cat.name}</p>\n                                    <div className=\"flex flex-wrap gap-2\">\n                                        {cat.tags.map(tag => (\n                                            <button\n                                                key={tag.id}\n                                                type=\"button\"\n                                                onClick={() => toggleTag(tag.id)}\n                                                className={`text-xs px-2 py-1 rounded border transition-colors ${formData.tags?.includes(tag.id)\n                                                    ? \"bg-primary text-primary-foreground border-primary\"\n                                                    : \"bg-background border-border text-muted-foreground hover:border-primary/50\"\n                                                    }`}\n                                            >\n                                                {tag.name}\n                                            </button>\n                                        ))}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n\n                    <button type=\"submit\" className=\"w-full bg-primary text-primary-foreground hover:bg-primary/90 py-2 rounded-md font-medium\">\n                        Save Trade\n                    </button>\n                </form>\n            </Modal>\n        </>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1355, "column": 0}, "map": {"version":3,"sources":["file:///Users/jacklau/Documents/GitHub/Trading-app/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { DollarSign, Percent, TrendingUp, Activity, BarChart as BarChartIcon } from \"lucide-react\";\nimport { StatCard } from \"@/components/dashboard/StatCard\";\nimport { ProfitChart } from \"@/components/dashboard/ProfitChart\";\nimport { CalendarHeatmap } from \"@/components/dashboard/CalendarHeatmap\";\nimport { AddTradeModal } from \"@/components/AddTradeModal\";\nimport { getTrades, Trade } from \"@/lib/storage\";\n\nexport default function DashboardPage() {\n    const [trades, setTrades] = useState<Trade[]>([]);\n    const [stats, setStats] = useState({\n        netPnl: 0,\n        winRate: 0,\n        profitFactor: 0,\n        avgWin: 0,\n        avgLoss: 0,\n        totalTrades: 0\n    });\n\n    const refreshData = () => {\n        const data = getTrades();\n        setTrades(data);\n        calculateStats(data);\n    };\n\n    useEffect(() => {\n        refreshData();\n    }, []);\n\n    const calculateStats = (data: Trade[]) => {\n        if (data.length === 0) return;\n\n        let totalPnl = 0;\n        let wins = 0;\n        let grossProfit = 0;\n        let grossLoss = 0;\n        let winSum = 0;\n        let lossSum = 0;\n\n        data.forEach(t => {\n            totalPnl += t.pnl;\n            if (t.pnl > 0) {\n                wins++;\n                grossProfit += t.pnl;\n                winSum += t.pnl;\n            } else {\n                grossLoss += Math.abs(t.pnl);\n                lossSum += Math.abs(t.pnl);\n            }\n        });\n\n        const winRate = (wins / data.length) * 100;\n        const profitFactor = grossLoss === 0 ? grossProfit : grossProfit / grossLoss;\n        const avgWin = wins === 0 ? 0 : winSum / wins;\n        const avgLoss = (data.length - wins) === 0 ? 0 : lossSum / (data.length - wins);\n\n        setStats({\n            netPnl: totalPnl,\n            winRate,\n            profitFactor,\n            avgWin,\n            avgLoss,\n            totalTrades: data.length\n        });\n    };\n\n    return (\n        <div className=\"flex-1 space-y-4 p-8 pt-6\">\n            <div className=\"flex items-center justify-between space-y-2\">\n                <h2 className=\"text-3xl font-bold tracking-tight\">Dashboard</h2>\n                <div className=\"flex items-center space-x-2\">\n                    <AddTradeModal onTradeAdded={refreshData} />\n                </div>\n            </div>\n\n            {/* Top 4 Stats */}\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n                <StatCard\n                    title=\"Net P&L\"\n                    value={`$${stats.netPnl.toFixed(2)}`}\n                    icon={DollarSign}\n                    trend={stats.totalTrades > 0 ? `${stats.totalTrades} trades total` : \"No trades yet\"}\n                    trendUp={stats.netPnl >= 0}\n                />\n                <StatCard\n                    title=\"Win Rate\"\n                    value={`${stats.winRate.toFixed(1)}%`}\n                    icon={Percent}\n                    trendUp={stats.winRate >= 50}\n                />\n                <StatCard\n                    title=\"Profit Factor\"\n                    value={stats.profitFactor.toFixed(2)}\n                    icon={TrendingUp}\n                    trendUp={stats.profitFactor >= 1.5}\n                />\n                <StatCard\n                    title=\"Avg Win / Loss\"\n                    value={`$${stats.avgWin.toFixed(0)} / $${stats.avgLoss.toFixed(0)}`}\n                    icon={Activity}\n                />\n            </div>\n\n            {/* Charts Row - Layout fix: Use simple grid for main visual area */}\n            <div className=\"grid gap-4 md:grid-cols-7\">\n                <div className=\"col-span-4 space-y-4\">\n                    <ProfitChart trades={trades} />\n                    {/* Moved these stats here to fill vertical space if needed, or keep them below */}\n                </div>\n                <div className=\"col-span-3 space-y-4\">\n                    <CalendarHeatmap trades={trades} />\n                    <div className=\"grid grid-cols-2 gap-4\">\n                        <StatCard\n                            title=\"Day Win %\"\n                            value=\"--\" // Requires more complex calc\n                            icon={BarChartIcon}\n                        />\n                        <StatCard\n                            title=\"Avg Daily\"\n                            value={`$${(stats.totalTrades > 0 ? stats.netPnl / stats.totalTrades : 0).toFixed(2)}`} // Simplified for now\n                            icon={Activity}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}