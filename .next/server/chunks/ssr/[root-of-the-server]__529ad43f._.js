module.exports=[25372,(a,b,c)=>{b.exports=a.x("better-sqlite3",()=>require("better-sqlite3"))},22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},47844,a=>{"use strict";var b=a.i(37936),c=a.i(9223),d=a.i(5246),e=a.i(66879),f=a.i(15545),g=a.i(93321),h=a.i(30385),i=a.i(18558);async function j(){let a=await c.auth.api.getSession({headers:await (0,d.headers)()});if(!a?.user)throw Error("Unauthorized");return a.user}async function k(){let a=await j(),b=(0,e.getDb)(),c=await b.select().from(f.trades).where((0,g.eq)(f.trades.userId,a.id)).orderBy((0,h.desc)(f.trades.date)),d=c.map(a=>a.id),i={};return d.length>0&&(await b.select().from(f.tradeTags).where((0,g.inArray)(f.tradeTags.tradeId,d))).forEach(a=>{i[a.tradeId]||(i[a.tradeId]=[]),i[a.tradeId].push(a.tagId)}),c.map(a=>({...a,tags:i[a.id]||[]}))}async function l(a){let b=await j(),c=(0,e.getDb)(),d=await c.select().from(f.trades).where((0,g.and)((0,g.eq)(f.trades.id,a),(0,g.eq)(f.trades.userId,b.id))).get();if(!d)return null;let h=await c.select().from(f.tradeTags).where((0,g.eq)(f.tradeTags.tradeId,a));return{...d,tags:h.map(a=>a.tagId)}}async function m(a){let b=await j(),c=(0,e.getDb)(),{tags:d,...g}=a,h={...g,userId:b.id,createdAt:new Date,updatedAt:new Date};if(await c.insert(f.trades).values(h),d&&d.length>0)for(let a of d)await c.insert(f.tradeTags).values({tradeId:h.id,tagId:a});return(0,i.revalidatePath)("/trades"),(0,i.revalidatePath)("/"),(0,i.revalidatePath)("/reports"),{success:!0}}async function n(a,b){let c=await j(),d=(0,e.getDb)(),{tags:h,...k}=b;if(Object.keys(k).length>0&&await d.update(f.trades).set({...k,updatedAt:new Date}).where((0,g.and)((0,g.eq)(f.trades.id,a),(0,g.eq)(f.trades.userId,c.id))),void 0!==h&&(await d.delete(f.tradeTags).where((0,g.eq)(f.tradeTags.tradeId,a)),h.length>0))for(let b of h)await d.insert(f.tradeTags).values({tradeId:a,tagId:b});return(0,i.revalidatePath)("/trades"),(0,i.revalidatePath)(`/trades/${a}`),(0,i.revalidatePath)("/"),(0,i.revalidatePath)("/reports"),{success:!0}}async function o(a){let b=await j(),c=(0,e.getDb)();return await c.delete(f.trades).where((0,g.and)((0,g.eq)(f.trades.id,a),(0,g.eq)(f.trades.userId,b.id))),(0,i.revalidatePath)("/trades"),(0,i.revalidatePath)("/"),(0,i.revalidatePath)("/reports"),{success:!0}}(0,a.i(13095).ensureServerEntryExports)([k,l,m,n,o]),(0,b.registerServerReference)(k,"003bdb41977fafc385b089ea1b1a363d738935fdfc",null),(0,b.registerServerReference)(l,"404d76a0830acf0ac4288e23290c039cbd3c7de1ce",null),(0,b.registerServerReference)(m,"40a6cc6f1f2178696141d579a69bfb77252b4d97f8",null),(0,b.registerServerReference)(n,"60ebe67b8ff8ece876c43cb6478d274e72270a4de9",null),(0,b.registerServerReference)(o,"40ff44ff1593cccb6762fa1dfdda55b4f154bce892",null),a.s(["createTrade",()=>m,"deleteTrade",()=>o,"getTrade",()=>l,"getTrades",()=>k,"updateTrade",()=>n])},82446,a=>{"use strict";var b=a.i(37936),c=a.i(9223),d=a.i(5246),e=a.i(66879),f=a.i(15545),g=a.i(93321),h=a.i(18558);async function i(){let a=await c.auth.api.getSession({headers:await (0,d.headers)()});if(!a?.user)throw Error("Unauthorized");return a.user}async function j(){let a=await i(),b=(0,e.getDb)(),c=await b.select().from(f.categories).where((0,g.eq)(f.categories.userId,a.id)),d=await b.select().from(f.tags).where((0,g.eq)(f.tags.userId,a.id));return c.map(a=>({...a,tags:d.filter(b=>b.categoryId===a.id)}))}async function k(a){let b=await i(),c=(0,e.getDb)();return await c.insert(f.categories).values({...a,userId:b.id}),(0,h.revalidatePath)("/tags"),(0,h.revalidatePath)("/reports"),{success:!0}}async function l(a){let b=await i(),c=(0,e.getDb)();return await c.delete(f.categories).where((0,g.and)((0,g.eq)(f.categories.id,a),(0,g.eq)(f.categories.userId,b.id))),(0,h.revalidatePath)("/tags"),{success:!0}}async function m(a,b){let c=await i(),d=(0,e.getDb)();return await d.update(f.categories).set({...b,updatedAt:new Date}).where((0,g.and)((0,g.eq)(f.categories.id,a),(0,g.eq)(f.categories.userId,c.id))),b.color&&await d.update(f.tags).set({color:b.color}).where((0,g.and)((0,g.eq)(f.tags.categoryId,a),(0,g.eq)(f.tags.userId,c.id))),(0,h.revalidatePath)("/tags"),{success:!0}}async function n(a){let b=await i(),c=(0,e.getDb)();return await c.insert(f.tags).values({...a,userId:b.id}),(0,h.revalidatePath)("/tags"),{success:!0}}async function o(a){let b=await i(),c=(0,e.getDb)();return await c.delete(f.tags).where((0,g.and)((0,g.eq)(f.tags.id,a),(0,g.eq)(f.tags.userId,b.id))),(0,h.revalidatePath)("/tags"),{success:!0}}(0,a.i(13095).ensureServerEntryExports)([j,k,l,m,n,o]),(0,b.registerServerReference)(j,"0053c2991b153a5bfd651fb43ef45a92e50dedd5aa",null),(0,b.registerServerReference)(k,"40265b30102208e2dbfd12633e96636836ce67eda6",null),(0,b.registerServerReference)(l,"40a11be9358d3ebe9de33ae0c86d1ada70bf8b7562",null),(0,b.registerServerReference)(m,"6027cde55327f090e4abf24830ed1af39fdc545367",null),(0,b.registerServerReference)(n,"406890b07abd01545dd838dd5e595466dd49672ebd",null),(0,b.registerServerReference)(o,"40483b3fa33e4e7224b9332c539e22dffe6158a91c",null),a.s(["createCategory",()=>k,"createTag",()=>n,"deleteCategory",()=>l,"deleteTag",()=>o,"getCategories",()=>j,"updateCategory",()=>m])},84582,a=>{"use strict";var b=a.i(37936),c=a.i(9223),d=a.i(5246),e=a.i(66879),f=a.i(15545),g=a.i(93321),h=a.i(30385),i=a.i(18558);async function j(){let a=await c.auth.api.getSession({headers:await (0,d.headers)()});if(!a?.user)throw Error("Unauthorized");return a.user}async function k(){let a=await j(),b=(0,e.getDb)();return await b.select().from(f.notes).where((0,g.eq)(f.notes.userId,a.id)).orderBy((0,h.desc)(f.notes.date))}async function l(){let a=await j(),b=(0,e.getDb)(),c=await b.select().from(f.sections).where((0,g.eq)(f.sections.userId,a.id));if(0===c.length){for(let c of["Trade Notes","Daily Journal","Strategy","Backtesting"])await b.insert(f.sections).values({id:`sec_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:c,userId:a.id});return await b.select().from(f.sections).where((0,g.eq)(f.sections.userId,a.id))}return c}async function m(a){let b=await j(),c=(0,e.getDb)();return await c.insert(f.notes).values({...a,userId:b.id}),(0,i.revalidatePath)("/notebook"),{success:!0}}async function n(a,b){let c=await j(),d=(0,e.getDb)();return await d.update(f.notes).set({...b,updatedAt:new Date}).where((0,g.and)((0,g.eq)(f.notes.id,a),(0,g.eq)(f.notes.userId,c.id))),(0,i.revalidatePath)("/notebook"),{success:!0}}async function o(a){let b=await j(),c=(0,e.getDb)();return await c.delete(f.notes).where((0,g.and)((0,g.eq)(f.notes.id,a),(0,g.eq)(f.notes.userId,b.id))),(0,i.revalidatePath)("/notebook"),{success:!0}}(0,a.i(13095).ensureServerEntryExports)([k,l,m,n,o]),(0,b.registerServerReference)(k,"0012b0fb54d7c60fda7355e278d2c327c63a247960",null),(0,b.registerServerReference)(l,"0083eb236ecd51927952cda1a88f01b78b44944c75",null),(0,b.registerServerReference)(m,"4042d9d02b006aeba0d0c1abce59f22ed3757dd9f9",null),(0,b.registerServerReference)(n,"6062f86ae61a00969d4a1203d25a3ad253f9f0ac06",null),(0,b.registerServerReference)(o,"40fc2a295eb212a4a8f487ac6d38f293db05c0d210",null),a.s(["createNote",()=>m,"deleteNote",()=>o,"getNotes",()=>k,"getSections",()=>l,"updateNote",()=>n])},59283,a=>{"use strict";var b=a.i(37936),c=a.i(9223),d=a.i(5246),e=a.i(66879),f=a.i(15545),g=a.i(93321);async function h(){let a=await c.auth.api.getSession({headers:await (0,d.headers)()});if(!a?.user)throw Error("Unauthorized");return a.user}async function i(){let a=await h(),b=(0,e.getDb)(),c=await b.select().from(f.templates).where((0,g.eq)(f.templates.userId,a.id));if(0===c.length){for(let c of[{name:"Daily Plan",content:"\n# Daily Plan\n- [ ] Review Overnight Action\n- [ ] Check Economic Calendar\n- [ ] Key Levels to Watch:\n  - ES: \n  - NQ: \n"},{name:"Trade Review",content:"\n# Trade Review\n- Setup:\n- Execution:\n- Psychology:\n- Outcome:\n- Improvements:\n"},{name:"Weekly Review",content:"\n# Weekly Review\n- P&L: \n- Best Trade:\n- Worst Trade:\n- Lessons Learned:\n"}])await b.insert(f.templates).values({id:`tmpl_${Date.now()}_${Math.random().toString(36).substr(2,5)}`,userId:a.id,name:c.name,content:c.content});return await b.select().from(f.templates).where((0,g.eq)(f.templates.userId,a.id))}return c}async function j(a){let b=await h(),c=(0,e.getDb)();return await c.insert(f.templates).values({...a,userId:b.id}),{success:!0}}async function k(a,b){let c=await h(),d=(0,e.getDb)();return await d.update(f.templates).set({...b,updatedAt:new Date}).where((0,g.and)((0,g.eq)(f.templates.id,a),(0,g.eq)(f.templates.userId,c.id))),{success:!0}}async function l(a){let b=await h(),c=(0,e.getDb)();return await c.delete(f.templates).where((0,g.and)((0,g.eq)(f.templates.id,a),(0,g.eq)(f.templates.userId,b.id))),{success:!0}}(0,a.i(13095).ensureServerEntryExports)([i,j,k,l]),(0,b.registerServerReference)(i,"00a5501a00bacef6ebba6b41499ec193739cbce65b",null),(0,b.registerServerReference)(j,"401b3aa34ac0439e0024b2b923778bf44edb922d4d",null),(0,b.registerServerReference)(k,"60a791547e0eff38717b00b69518f77fbeb1e939c2",null),(0,b.registerServerReference)(l,"40d18498003e55a4d84f21a5deed2dac65f4675d9d",null),a.s(["createTemplate",()=>j,"deleteTemplate",()=>l,"getTemplates",()=>i,"updateTemplate",()=>k])},43675,a=>{"use strict";var b=a.i(47844),c=a.i(84582),d=a.i(82446),e=a.i(59283);a.s([],12831),a.i(12831),a.s(["003bdb41977fafc385b089ea1b1a363d738935fdfc",()=>b.getTrades,"0083eb236ecd51927952cda1a88f01b78b44944c75",()=>c.getSections,"401b3aa34ac0439e0024b2b923778bf44edb922d4d",()=>e.createTemplate,"40265b30102208e2dbfd12633e96636836ce67eda6",()=>d.createCategory,"4042d9d02b006aeba0d0c1abce59f22ed3757dd9f9",()=>c.createNote,"404d76a0830acf0ac4288e23290c039cbd3c7de1ce",()=>b.getTrade,"406890b07abd01545dd838dd5e595466dd49672ebd",()=>d.createTag,"40a6cc6f1f2178696141d579a69bfb77252b4d97f8",()=>b.createTrade,"40ff44ff1593cccb6762fa1dfdda55b4f154bce892",()=>b.deleteTrade,"60ebe67b8ff8ece876c43cb6478d274e72270a4de9",()=>b.updateTrade],43675)},80487,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_better-auth_dist_bun-sqlite-dialect-C3P_ISb5_mjs_579c5392._.js"].map(b=>a.l(b))).then(()=>b(66292)))},97873,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_better-auth_dist_node-sqlite-dialect-D6w8Ekdz_mjs_a3ae38cf._.js"].map(b=>a.l(b))).then(()=>b(35607)))},88010,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_better-auth_dist_adapters_memory-adapter_index_mjs_35d2dbfd._.js"].map(b=>a.l(b))).then(()=>b(31)))},60484,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_better-auth_dist_adapters_kysely-adapter_index_mjs_0abbd964._.js"].map(b=>a.l(b))).then(()=>b(36063)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__529ad43f._.js.map