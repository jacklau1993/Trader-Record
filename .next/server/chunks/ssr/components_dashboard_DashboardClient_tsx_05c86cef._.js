module.exports=[1422,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(90166),e=a.i(27275),f=a.i(24669),g=a.i(90669),h=a.i(18579),i=a.i(48662),j=a.i(554),k=a.i(31760),l=["axis"],m=(0,c.forwardRef)((a,b)=>c.createElement(k.CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:l,tooltipPayloadSearcher:j.arrayTooltipSearcher,categoricalChartProps:a,ref:b})),n=c,o=a.i(98621),p=a.i(13667),q=a.i(88949),r=a.i(36319),s=a.i(71555),t=a.i(2321),u=a.i(68932),v=a.i(56295),w=a.i(37082),x=a.i(53242),y=a.i(12791),z=a.i(17913),A=a.i(44381),B=a.i(12168),C=a.i(98382),D=a.i(98563),E=a.i(89702),F=a.i(51434),G=(a,b,c,d)=>(0,B.selectAxisWithScale)(a,"xAxis",b,d),H=(a,b,c,d)=>(0,B.selectTicksOfGraphicalItem)(a,"xAxis",b,d),I=(a,b,c,d)=>(0,B.selectAxisWithScale)(a,"yAxis",c,d),J=(a,b,c,d)=>(0,B.selectTicksOfGraphicalItem)(a,"yAxis",c,d),K=(0,A.createSelector)([C.selectChartLayout,G,I,H,J],(a,b,c,d,e)=>(0,v.isCategoricalAxis)(a,"xAxis")?(0,v.getBandSizeOfAxis)(b,d,!1):(0,v.getBandSizeOfAxis)(c,e,!1)),L=(0,A.createSelector)([B.selectUnfilteredCartesianItems,(a,b,c,d,e)=>e],(a,b)=>a.filter(a=>"area"===a.type).find(a=>a.id===b)),M=(0,A.createSelector)([C.selectChartLayout,G,I,H,J,(a,b,c,d,e)=>{var f,g,h=L(a,b,c,d,e);if(null!=h){var i=(0,C.selectChartLayout)(a);if(null!=(g=(0,v.isCategoricalAxis)(i,"xAxis")?(0,B.selectStackGroups)(a,"yAxis",c,d):(0,B.selectStackGroups)(a,"xAxis",b,d))){var{stackId:j}=h,k=(0,E.getStackSeriesIdentifier)(h);if(null!=j&&null!=k){var l=null==(f=g[j])?void 0:f.stackedData;return null==l?void 0:l.find(a=>a.key===k)}}}},D.selectChartDataWithIndexesIfNotInPanorama,K,L,F.selectChartBaseValue],(a,b,c,d,e,f,g,h,i,j)=>{var k,{chartData:l,dataStartIndex:m,dataEndIndex:n}=g;if(null!=i&&("horizontal"===a||"vertical"===a)&&null!=b&&null!=c&&null!=d&&null!=e&&0!==d.length&&0!==e.length&&null!=h){var{data:o}=i;if(null!=(k=o&&o.length>0?o:null==l?void 0:l.slice(m,n+1)))return function(a){var b,{areaSettings:{connectNulls:c,baseValue:d,dataKey:e},stackedData:f,layout:g,chartBaseValue:h,xAxis:i,yAxis:j,displayedData:k,dataStartIndex:l,xAxisTicks:m,yAxisTicks:n,bandSize:o}=a,p=f&&f.length,q=((a,b,c,d,e)=>{var f=null!=c?c:b;if((0,u.isNumber)(f))return f;var g="horizontal"===a?e:d,h=g.scale.domain();if("number"===g.type){var i=Math.max(h[0],h[1]),j=Math.min(h[0],h[1]);return"dataMin"===f?j:"dataMax"===f||i<0?i:Math.max(Math.min(h[0],h[1]),0)}return"dataMin"===f?h[0]:"dataMax"===f?h[1]:h[0]})(g,h,d,i,j),r="horizontal"===g,s=!1,t=k.map((a,b)=>{p?d=f[l+b]:Array.isArray(d=(0,v.getValueByDataKey)(a,e))?s=!0:d=[q,d];var d,g=null==d[1]||p&&!c&&null==(0,v.getValueByDataKey)(a,e);return r?{x:(0,v.getCateCoordinateOfLine)({axis:i,ticks:m,bandSize:o,entry:a,index:b}),y:g?null:j.scale(d[1]),value:d,payload:a}:{x:g?null:i.scale(d[1]),y:(0,v.getCateCoordinateOfLine)({axis:j,ticks:n,bandSize:o,entry:a,index:b}),value:d,payload:a}});return b=p||s?t.map(a=>{var b=Array.isArray(a.value)?a.value[0]:null;return r?{x:a.x,y:null!=b&&null!=a.y?j.scale(b):null,payload:a.payload}:{x:null!=b?i.scale(b):null,y:a.y,payload:a.payload}}):r?j.scale(q):i.scale(q),{points:t,baseLine:b,isRange:s}}({layout:a,xAxis:b,yAxis:c,xAxisTicks:d,yAxisTicks:e,dataStartIndex:m,areaSettings:i,stackedData:f,displayedData:k,chartBaseValue:j,bandSize:h})}}),N=a.i(25392),O=a.i(72474),P=a.i(92430),Q=a.i(77368),R=a.i(62320),S=a.i(87293),T=a.i(54917),U=a.i(36745),V=a.i(46780),W=a.i(77025),X=a.i(72853),Y=a.i(76342),Z=a.i(10576),$=a.i(7038),_=a.i(96268),aa=a.i(31080),ab=a.i(95272),ac=["id"],ad=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ae(){return(ae=Object.assign.bind()).apply(null,arguments)}function af(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ag(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ah(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ag(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ag(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ai(a,b){return a&&"none"!==a?a:b}var aj=n.memo(a=>{var{dataKey:b,data:c,stroke:d,strokeWidth:e,fill:f,name:g,hide:h,unit:i,tooltipType:j}=a,k={dataDefinedOnItem:c,positions:void 0,settings:{stroke:d,strokeWidth:e,fill:f,dataKey:b,nameKey:void 0,name:(0,v.getTooltipNameProp)(g,b),hide:h,type:j,color:ai(d,f),unit:i}};return n.createElement(y.SetTooltipEntrySettings,{tooltipEntrySettings:k})});function ak(a){var{clipPathId:b,points:c,props:d}=a,{needClip:e,dot:f,dataKey:g}=d,h=(0,X.svgPropertiesNoEvents)(d);return n.createElement(s.Dots,{points:c,dot:f,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:g,baseProps:h,needClip:e,clipPathId:b})}function al(a){var{showLabels:b,children:c,points:d}=a,e=d.map(a=>{var b,c,d={x:null!=(b=a.x)?b:0,y:null!=(c=a.y)?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ah(ah({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return n.createElement(r.CartesianLabelListContextProvider,{value:b?e:void 0},c)}function am(a){var{points:b,baseLine:c,needClip:d,clipPathId:e,props:f}=a,{layout:g,type:h,stroke:i,connectNulls:j,isRange:k}=f,{id:l}=f,m=af(f,ac),o=(0,X.svgPropertiesNoEvents)(m),r=(0,$.svgPropertiesAndEvents)(m);return n.createElement(n.Fragment,null,(null==b?void 0:b.length)>1&&n.createElement(q.Layer,{clipPath:d?"url(#clipPath-".concat(e,")"):void 0},n.createElement(p.Curve,ae({},r,{id:l,points:b,connectNulls:j,type:h,baseLine:c,layout:g,stroke:"none",className:"recharts-area-area"})),"none"!==i&&n.createElement(p.Curve,ae({},o,{className:"recharts-area-curve",layout:g,type:h,connectNulls:j,fill:"none",points:b})),"none"!==i&&k&&n.createElement(p.Curve,ae({},o,{className:"recharts-area-curve",layout:g,type:h,connectNulls:j,fill:"none",points:c}))),n.createElement(ak,{points:b,props:m,clipPathId:e}))}function an(a){var{alpha:b,baseLine:c,points:d,strokeWidth:e}=a,f=d[0].y,g=d[d.length-1].y;if(!(0,T.isWellBehavedNumber)(f)||!(0,T.isWellBehavedNumber)(g))return null;var h=b*Math.abs(f-g),i=Math.max(...d.map(a=>a.x||0));return((0,u.isNumber)(c)?i=Math.max(c,i):c&&Array.isArray(c)&&c.length&&(i=Math.max(...c.map(a=>a.x||0),i)),(0,u.isNumber)(i))?n.createElement("rect",{x:0,y:f<g?f:f-h,width:i+(e?parseInt("".concat(e),10):1),height:Math.floor(h)}):null}function ao(a){var{alpha:b,baseLine:c,points:d,strokeWidth:e}=a,f=d[0].x,g=d[d.length-1].x;if(!(0,T.isWellBehavedNumber)(f)||!(0,T.isWellBehavedNumber)(g))return null;var h=b*Math.abs(f-g),i=Math.max(...d.map(a=>a.y||0));return((0,u.isNumber)(c)?i=Math.max(c,i):c&&Array.isArray(c)&&c.length&&(i=Math.max(...c.map(a=>a.y||0),i)),(0,u.isNumber)(i))?n.createElement("rect",{x:f<g?f:f-h,y:0,width:h,height:Math.floor(i+(e?parseInt("".concat(e),10):1))}):null}function ap(a){var{alpha:b,layout:c,points:d,baseLine:e,strokeWidth:f}=a;return"vertical"===c?n.createElement(an,{alpha:b,points:d,baseLine:e,strokeWidth:f}):n.createElement(ao,{alpha:b,points:d,baseLine:e,strokeWidth:f})}function aq(a){var{needClip:b,clipPathId:c,props:d,previousPointsRef:e,previousBaselineRef:f}=a,{points:g,baseLine:h,isAnimationActive:i,animationBegin:j,animationDuration:k,animationEasing:l,onAnimationStart:m,onAnimationEnd:o}=d,p=(0,n.useMemo)(()=>({points:g,baseLine:h}),[g,h]),s=(0,R.useAnimationId)(p,"recharts-area-"),t=(0,C.useCartesianChartLayout)(),[v,w]=(0,n.useState)(!1),x=(0,n.useCallback)(()=>{"function"==typeof o&&o(),w(!1)},[o]),y=(0,n.useCallback)(()=>{"function"==typeof m&&m(),w(!0)},[m]);if(null==t)return null;var z=e.current,A=f.current;return n.createElement(al,{showLabels:!v,points:g},d.children,n.createElement(Y.JavascriptAnimate,{animationId:s,begin:j,duration:k,isActive:i,easing:l,onAnimationEnd:x,onAnimationStart:y,key:s},a=>{if(z){var j,k=z.length/g.length,l=1===a?g:g.map((b,c)=>{var d=Math.floor(c*k);if(z[d]){var e=z[d];return ah(ah({},b),{},{x:(0,u.interpolate)(e.x,b.x,a),y:(0,u.interpolate)(e.y,b.y,a)})}return b});return j=(0,u.isNumber)(h)?(0,u.interpolate)(A,h,a):(0,u.isNullish)(h)||(0,u.isNan)(h)?(0,u.interpolate)(A,0,a):h.map((b,c)=>{var d=Math.floor(c*k);if(Array.isArray(A)&&A[d]){var e=A[d];return ah(ah({},b),{},{x:(0,u.interpolate)(e.x,b.x,a),y:(0,u.interpolate)(e.y,b.y,a)})}return b}),a>0&&(e.current=l,f.current=j),n.createElement(am,{points:l,baseLine:j,needClip:b,clipPathId:c,props:d})}return a>0&&(e.current=g,f.current=h),n.createElement(q.Layer,null,i&&n.createElement("defs",null,n.createElement("clipPath",{id:"animationClipPath-".concat(c)},n.createElement(ap,{alpha:a,points:g,baseLine:h,layout:t,strokeWidth:d.strokeWidth}))),n.createElement(q.Layer,{clipPath:"url(#animationClipPath-".concat(c,")")},n.createElement(am,{points:g,baseLine:h,needClip:b,clipPathId:c,props:d})))}),n.createElement(r.LabelListFromLabelProp,{label:d.label}))}function ar(a){var{needClip:b,clipPathId:c,props:d}=a,e=(0,n.useRef)(null),f=(0,n.useRef)();return n.createElement(aq,{needClip:b,clipPathId:c,props:d,previousPointsRef:e,previousBaselineRef:f})}class as extends n.PureComponent{render(){var{hide:a,dot:b,points:c,className:d,top:e,left:f,needClip:g,xAxisId:h,yAxisId:i,width:j,height:k,id:l,baseLine:m,zIndex:p}=this.props;if(a)return null;var r=(0,o.clsx)("recharts-area",d),{r:s,strokeWidth:t}=(0,Z.getRadiusAndStrokeWidthFromDot)(b),u=(0,w.isClipDot)(b),v=2*s+t,y=g?"url(#clipPath-".concat(u?"":"dots-").concat(l,")"):void 0;return n.createElement(_.ZIndexLayer,{zIndex:p},n.createElement(q.Layer,{className:r},g&&n.createElement("defs",null,n.createElement(z.GraphicalItemClipPath,{clipPathId:l,xAxisId:h,yAxisId:i}),!u&&n.createElement("clipPath",{id:"clipPath-dots-".concat(l)},n.createElement("rect",{x:f-v/2,y:e-v/2,width:j+v,height:k+v}))),n.createElement(ar,{needClip:g,clipPathId:l,props:this.props})),n.createElement(x.ActivePoints,{points:c,mainColor:ai(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:y}),this.props.isRange&&Array.isArray(m)&&n.createElement(x.ActivePoints,{points:m,mainColor:ai(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:y}))}}var at={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:aa.DefaultZIndexes.area};function au(a){var b,c=(0,S.resolveDefaultProps)(a,at),{activeDot:d,animationBegin:e,animationDuration:f,animationEasing:g,connectNulls:h,dot:i,fill:j,fillOpacity:k,hide:l,isAnimationActive:m,legendType:o,stroke:p,xAxisId:q,yAxisId:r}=c,s=af(c,ad),u=(0,C.useChartLayout)(),v=(0,O.useChartName)(),{needClip:w}=(0,z.useNeedsClip)(q,r),x=(0,N.useIsPanorama)(),{points:y,isRange:A,baseLine:B}=null!=(b=(0,Q.useAppSelector)(b=>M(b,q,r,x,a.id)))?b:{},D=(0,U.usePlotArea)();if("horizontal"!==u&&"vertical"!==u||null==D||"AreaChart"!==v&&"ComposedChart"!==v)return null;var{height:E,width:F,x:G,y:H}=D;return y&&y.length?n.createElement(as,ae({},s,{activeDot:d,animationBegin:e,animationDuration:f,animationEasing:g,baseLine:B,connectNulls:h,dot:i,fill:j,fillOpacity:k,height:E,hide:l,layout:u,isAnimationActive:"auto"===m?!t.Global.isSsr:m,isRange:A,legendType:o,needClip:w,points:y,stroke:p,width:F,left:G,top:H,xAxisId:q,yAxisId:r})):null}var av=n.memo(function(a){var b=(0,S.resolveDefaultProps)(a,at),c=(0,N.useIsPanorama)();return n.createElement(V.RegisterGraphicalItemId,{id:b.id,type:"area"},a=>n.createElement(n.Fragment,null,n.createElement(P.SetLegendPayload,{legendPayload:(a=>{var{dataKey:b,name:c,stroke:d,fill:e,legendType:f,hide:g}=a;return[{inactive:g,dataKey:b,type:f,color:ai(d,e),value:(0,v.getTooltipNameProp)(c,b),payload:a}]})(b)}),n.createElement(aj,{dataKey:b.dataKey,data:b.data,stroke:b.stroke,strokeWidth:b.strokeWidth,fill:b.fill,name:b.name,hide:b.hide,unit:b.unit,tooltipType:b.tooltipType}),n.createElement(W.SetCartesianGraphicalItem,{type:"area",id:a,data:b.data,dataKey:b.dataKey,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,stackId:(0,v.getNormalizedStackId)(b.stackId),hide:b.hide,barSize:void 0,baseValue:b.baseValue,isPanorama:c,connectNulls:b.connectNulls}),n.createElement(au,ae({},b,{id:a}))))},ab.propsAreEqual);av.displayName="Area";var aw=a.i(58042),ax=a.i(94222),ay=a.i(54419),az=a.i(59854),aA=a.i(3130),aB=a.i(56711),aC=a.i(59296),aD=a.i(42724),aE=a.i(74016);function aF(a,b){let c,d,e=()=>(0,aD.constructFrom)(b?.in,NaN),f=b?.additionalDigits??2,g=function(a){let b,c={},d=a.split(aG);if(d.length>2)return c;if(/:/.test(d[0])?b=d[0]:(c.date=d[0],b=d[1],aH.test(c.date)&&(c.date=a.split(aH)[0],b=a.substr(c.date.length,a.length))),b){let a=aI.exec(b);a?(c.time=b.replace(a[1],""),c.timezone=a[1]):c.time=b}return c}(a);if(g.date){let a=function(a,b){let c=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+b)+"})|(\\d{2}|[+-]\\d{"+(2+b)+"})$)"),d=a.match(c);if(!d)return{year:NaN,restDateString:""};let e=d[1]?parseInt(d[1]):null,f=d[2]?parseInt(d[2]):null;return{year:null===f?e:100*f,restDateString:a.slice((d[1]||d[2]).length)}}(g.date,f);c=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(null===b)return new Date(NaN);let m=a.match(aJ);if(!m)return new Date(NaN);let n=!!m[4],o=aM(m[1]),p=aM(m[2])-1,q=aM(m[3]),r=aM(m[4]),s=aM(m[5])-1;if(n){let a,h;return(c=r,d=s,c>=1&&c<=53&&d>=0&&d<=6)?(e=b,f=r,g=s,(a=new Date(0)).setUTCFullYear(e,0,4),h=a.getUTCDay()||7,a.setUTCDate(a.getUTCDate()+((f-1)*7+g+1-h)),a):new Date(NaN)}{let a=new Date(0);return(h=b,i=p,j=q,i>=0&&i<=11&&j>=1&&j<=(aO[i]||(aP(h)?29:28))&&(k=b,(l=o)>=1&&l<=(aP(k)?366:365)))?(a.setUTCFullYear(b,p,Math.max(o,q)),a):new Date(NaN)}}(a.restDateString,a.year)}if(!c||isNaN(+c))return e();let h=+c,i=0;if(g.time&&isNaN(i=function(a){var b,c,d;let e=a.match(aK);if(!e)return NaN;let f=aN(e[1]),g=aN(e[2]),h=aN(e[3]);return(b=f,c=g,d=h,24===b?0===c&&0===d:d>=0&&d<60&&c>=0&&c<60&&b>=0&&b<25)?f*aC.millisecondsInHour+g*aC.millisecondsInMinute+1e3*h:NaN}(g.time)))return e();if(g.timezone){if(isNaN(d=function(a){var b;if("Z"===a)return 0;let c=a.match(aL);if(!c)return 0;let d="+"===c[1]?-1:1,e=parseInt(c[2]),f=c[3]&&parseInt(c[3])||0;return(b=f)>=0&&b<=59?d*(e*aC.millisecondsInHour+f*aC.millisecondsInMinute):NaN}(g.timezone)))return e()}else{let a=new Date(h+i),c=(0,aE.toDate)(0,b?.in);return c.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),c.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),c}return(0,aE.toDate)(h+i+d,b?.in)}let aG=/[T ]/,aH=/[Z ]/i,aI=/([Z+-].*)$/,aJ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,aK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,aL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aM(a){return a?parseInt(a):1}function aN(a){return a&&parseFloat(a.replace(",","."))||0}let aO=[31,null,31,30,31,30,31,31,30,31,30,31];function aP(a){return a%400==0||a%4==0&&a%100!=0}function aQ(a,b){let c=(0,aE.toDate)(a)-(0,aE.toDate)(b);return c<0?-1:c>0?1:c}function aR({trades:a}){let d=(0,c.useMemo)(()=>{if(0===a.length)return[];let b={};a.forEach(a=>{let c=a.date;b[c]=(b[c]||0)+a.pnl});let c=Object.keys(b).sort((a,b)=>aQ(aF(a),aF(b))),d=0;return c.map(a=>(d+=b[a],{date:(0,aB.format)(aF(a),"MMM dd"),pl:d,daily:b[a]}))},[a]);return(0,b.jsxs)(aA.Card,{className:"col-span-4",children:[(0,b.jsx)(aA.CardHeader,{children:(0,b.jsx)(aA.CardTitle,{children:"Cumulative Net P&L"})}),(0,b.jsx)(aA.CardContent,{className:"pl-2",children:(0,b.jsx)("div",{className:"h-[300px]",children:d.length>0?(0,b.jsx)(i.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(m,{data:d,children:[(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:"colorPl",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),(0,b.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),(0,b.jsx)(aw.XAxis,{dataKey:"date",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),(0,b.jsx)(ax.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:a=>`$${a}`}),(0,b.jsx)(ay.CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),(0,b.jsx)(az.Tooltip,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#f8fafc"},itemStyle:{color:"#f8fafc"},formatter:a=>[`$${a}`,"Net P&L"]}),(0,b.jsx)(av,{type:"monotone",dataKey:"pl",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorPl)"})]})}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:"No data available"})})})]})}var aS=a.i(18155),aT=a.i(23665),aU=a.i(67149),aV=a.i(74668),aW=a.i(99738),aX=a.i(17792),aY=a.i(61970);function aZ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a$(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aZ(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aZ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function a_(){return(a_=Object.assign.bind()).apply(null,arguments)}function a0(a){var b=(0,Q.useAppDispatch)();return(0,c.useEffect)(()=>(b((0,aX.addLine)(a)),()=>{b((0,aX.removeLine)(a))})),null}function a1(a){var{xAxisId:b,yAxisId:d,shape:e,className:f,ifOverflow:g}=a,h=(0,N.useIsPanorama)(),i=(0,aY.useClipPathId)(),j=(0,Q.useAppSelector)(a=>(0,B.selectXAxisSettings)(a,b)),k=(0,Q.useAppSelector)(a=>(0,B.selectYAxisSettings)(a,d)),l=(0,Q.useAppSelector)(a=>(0,B.selectAxisScale)(a,"xAxis",b,h)),m=(0,Q.useAppSelector)(a=>(0,B.selectAxisScale)(a,"yAxis",d,h)),n=(0,C.useViewBox)();if(!i||!n||null==j||null==k||null==l||null==m)return null;var p=((a,b,c,d,e,f)=>{var g,{x:h,y:i,segment:j,ifOverflow:k}=f,l=(0,u.isNumOrStr)(h);return(0,u.isNumOrStr)(i)?((a,b,c,d,e,f)=>{var{x:g,width:h}=f,i=e.y.apply(a,{position:c});if((0,u.isNan)(i)||"discard"===b&&!e.y.isInRange(i))return null;var j=[{x:g+h,y:i},{x:g,y:i}];return"left"===d?j.reverse():j})(i,k,c,e,a,b):l?((a,b,c,d,e,f)=>{var{y:g,height:h}=f,i=e.x.apply(a,{position:c});if((0,u.isNan)(i)||"discard"===b&&!e.x.isInRange(i))return null;var j=[{x:i,y:g+h},{x:i,y:g}];return"top"===d?j.reverse():j})(h,k,c,d,a,b):null!=j&&2===j.length?(g=j.map(b=>a.apply(b,{position:c})),"discard"===k&&g.some(b=>!a.isInRange(b))?null:g):null})((0,aW.createLabeledScales)({x:l,y:m}),n,a.position,j.orientation,k.orientation,a);if(!p)return null;var[{x:r,y:s},{x:t,y:v}]=p,w=a$(a$({clipPath:"hidden"===g?"url(#".concat(i,")"):void 0},(0,$.svgPropertiesAndEvents)(a)),{},{x1:r,y1:s,x2:t,y2:v}),x=(0,aW.rectWithCoords)({x1:r,y1:s,x2:t,y2:v});return c.createElement(_.ZIndexLayer,{zIndex:a.zIndex},c.createElement(q.Layer,{className:(0,o.clsx)("recharts-reference-line",f)},((a,b)=>{var d;if(c.isValidElement(a))d=c.cloneElement(a,b);else if("function"==typeof a)d=a(b);else{if(!(0,T.isWellBehavedNumber)(b.x1)||!(0,T.isWellBehavedNumber)(b.y1)||!(0,T.isWellBehavedNumber)(b.x2)||!(0,T.isWellBehavedNumber)(b.y2))return null;d=c.createElement("line",a_({},b,{className:"recharts-reference-line-line"}))}return d})(e,w),c.createElement(aV.CartesianLabelContextProvider,a_({},x,{lowerWidth:x.width,upperWidth:x.width}),c.createElement(aV.CartesianLabelFromLabelProp,{label:a.label}),a.children)))}var a2={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:aa.DefaultZIndexes.line};function a3(a){var b=(0,S.resolveDefaultProps)(a,a2);return c.createElement(c.Fragment,null,c.createElement(a0,{yAxisId:b.yAxisId,xAxisId:b.xAxisId,ifOverflow:b.ifOverflow,x:b.x,y:b.y,segment:b.segment}),c.createElement(a1,b))}function a4({trades:a}){let d=(0,c.useMemo)(()=>{if(0===a.length)return[];let b={};return a.forEach(a=>{let c=a.date;b[c]=(b[c]||0)+a.pnl}),Object.keys(b).sort((a,b)=>aQ(aF(a),aF(b))).map(a=>({date:(0,aB.format)(aF(a),"MMM dd"),pl:b[a]}))},[a]);return(0,b.jsxs)(aA.Card,{className:"col-span-4",children:[(0,b.jsx)(aA.CardHeader,{children:(0,b.jsx)(aA.CardTitle,{children:"Daily Net P&L"})}),(0,b.jsx)(aA.CardContent,{className:"pl-2",children:(0,b.jsx)("div",{className:"h-[250px]",children:d.length>0?(0,b.jsx)(i.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(aS.BarChart,{data:d,children:[(0,b.jsx)(ay.CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),(0,b.jsx)(aw.XAxis,{dataKey:"date",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),(0,b.jsx)(ax.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:a=>`$${a}`}),(0,b.jsx)(az.Tooltip,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#f8fafc"},cursor:{fill:"#334155",opacity:.2},formatter:a=>[`$${a}`,"Net P&L"]}),(0,b.jsx)(a3,{y:0,stroke:"#64748b"}),(0,b.jsx)(aT.Bar,{dataKey:"pl",children:d.map((a,c)=>(0,b.jsx)(aU.Cell,{fill:a.pl>=0?"#22c55e":"#ef4444"},`cell-${c}`))})]})}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:"No data available"})})})]})}a3.displayName="ReferenceLine";var a5=a.i(57270);function a6(a,b,c){let d=(0,aE.toDate)(a,c?.in);if(isNaN(b))return(0,aD.constructFrom)(c?.in||a,NaN);if(!b)return d;let e=d.getDate(),f=(0,aD.constructFrom)(c?.in||a,d.getTime());return(f.setMonth(d.getMonth()+b+1,0),e>=f.getDate())?f:(d.setFullYear(f.getFullYear(),f.getMonth(),e),d)}var a7=a.i(67638),a8=a.i(97895),a9=a.i(70106);let ba=(0,a9.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),bb=(0,a9.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function bc({trades:a}){let[d,e]=(0,c.useState)(new Date),{weeks:f,dailyData:g,weeklyStats:h,currentMonthLabel:i}=(0,c.useMemo)(()=>{let b,c,e,f={};a.forEach(a=>{f[a.date]||(f[a.date]={pnl:0,count:0}),f[a.date].pnl+=a.pnl,f[a.date].count+=1});let g=((b=(0,aE.toDate)(d,void 0)).setDate(1),b.setHours(0,0,0,0),b),h=function(a,b){let{start:c,end:d}=function(a,b){let[c,d]=(0,a5.normalizeDates)(a,b.start,b.end);return{start:c,end:d}}(void 0,a),e=+c>+d,f=e?+c:+d,g=e?d:c;g.setHours(0,0,0,0);let h=(void 0)??1;if(!h)return[];h<0&&(h=-h,e=!e);let i=[];for(;+g<=f;)i.push((0,aD.constructFrom)(c,g)),g.setDate(g.getDate()+h),g.setHours(0,0,0,0);return e?i.reverse():i}({start:g,end:(e=(c=(0,aE.toDate)(d,void 0)).getMonth(),c.setFullYear(c.getFullYear(),e+1,0),c.setHours(23,59,59,999),c)}),i=(0,aE.toDate)(g,void 0).getDay(),j=Array(i=0===i?6:i-1).fill(null).concat(h),k=[];for(let a=0;a<j.length;a+=7){let b=j.slice(a,a+7);b.length<7&&(b=b.concat(Array(7-b.length).fill(null))),k.push(b)}let l=k.map(a=>{let b=0,c=0;return a.forEach(a=>{if(a){let d=f[(0,aB.format)(a,"yyyy-MM-dd")];d&&(b+=d.pnl,c+=d.count)}}),{pnl:b,count:c}});return{weeks:k,dailyData:f,weeklyStats:l,currentMonthLabel:(0,aB.format)(d,"MMMM yyyy")}},[a,d]);return(0,b.jsxs)(aA.Card,{className:"col-span-3",children:[(0,b.jsxs)(aA.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(aA.CardTitle,{children:i}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("button",{onClick:()=>e(a6(d,-1,void 0)),className:"p-1 hover:bg-muted rounded text-muted-foreground hover:text-foreground",children:(0,b.jsx)(ba,{className:"h-4 w-4"})}),(0,b.jsx)("button",{onClick:()=>e(new Date),className:"text-xs text-primary hover:underline",children:"Today"}),(0,b.jsx)("button",{onClick:()=>e(a6(d,1)),className:"p-1 hover:bg-muted rounded text-muted-foreground hover:text-foreground",children:(0,b.jsx)(bb,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)(aA.CardContent,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-8 gap-2 text-center text-xs text-muted-foreground mb-2 font-medium",children:[(0,b.jsx)("div",{children:"Mon"}),(0,b.jsx)("div",{children:"Tue"}),(0,b.jsx)("div",{children:"Wed"}),(0,b.jsx)("div",{children:"Thu"}),(0,b.jsx)("div",{children:"Fri"}),(0,b.jsx)("div",{children:"Sat"}),(0,b.jsx)("div",{children:"Sun"}),(0,b.jsx)("div",{className:"text-primary font-bold",children:"Wkly"})]}),(0,b.jsx)("div",{className:"space-y-2",children:f.map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-8 gap-2",children:[a.map((a,c)=>{let d=(0,b.jsx)("div",{className:"aspect-square"});if(a){let c=(0,aB.format)(a,"yyyy-MM-dd"),e=g[c],f=e?.pnl,h="bg-secondary";f&&f>0?h="bg-green-500/20 text-green-500 border-green-500/50":f&&f<0&&(h="bg-red-500/20 text-red-500 border-red-500/50");let i=function(a,b,c){let[d,e]=(0,a5.normalizeDates)(void 0,a,b);return+(0,a7.startOfDay)(d)==+(0,a7.startOfDay)(e)}(a,new Date);d=(0,b.jsxs)("div",{className:(0,a8.cn)("aspect-square flex flex-col items-center justify-center rounded-md border border-transparent transition-all hover:scale-105 cursor-pointer relative",h,i?"ring-2 ring-primary ring-offset-2 ring-offset-background":""),title:`${c}: $${f||0}`,children:[(0,b.jsx)("div",{className:"text-sm font-bold",children:(0,aB.format)(a,"d")})," ",void 0!==f&&0!==f&&(0,b.jsxs)("div",{className:"text-[10px] font-semibold leading-none mt-1",children:[f>0?"+":"",Math.round(f)]})]})}return(0,b.jsx)("div",{children:d},c)}),(0,b.jsx)("div",{className:"aspect-square flex flex-col items-center justify-center rounded-lg bg-muted/40 border border-border",children:h[c].count>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{className:(0,a8.cn)("font-bold text-sm",h[c].pnl>0?"text-green-500":h[c].pnl<0?"text-red-500":"text-foreground"),children:[h[c].pnl>0?"+":"",Math.round(h[c].pnl/1e3),"k"]}),(0,b.jsxs)("span",{className:"text-[10px] text-muted-foreground font-medium",children:[h[c].count," trades"]})]}):(0,b.jsx)("span",{className:"text-xs text-muted-foreground/30",children:"-"})})]},c))})]})]})}function bd({trades:a}){let c=[...a].sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime()).slice(0,6);return(0,b.jsxs)(aA.Card,{className:"col-span-3",children:[(0,b.jsx)(aA.CardHeader,{children:(0,b.jsx)(aA.CardTitle,{children:"Recent Trades"})}),(0,b.jsx)(aA.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:0===c.length?(0,b.jsx)("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent trades"}):c.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-border pb-3 last:border-0 last:pb-0",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"font-bold text-sm",children:a.ticker}),(0,b.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${"Long"===a.type?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:a.type})]}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,aB.format)(new Date(a.date),"MMM dd")})]}),(0,b.jsxs)("div",{className:`font-mono font-medium text-sm ${a.pnl>0?"text-green-500":"text-red-500"}`,children:[a.pnl>0?"+":"","$",a.pnl.toFixed(2)]})]},a.id))})})]})}var be=a.i(15618),bf=a.i(96221),bg=a.i(32324),bh=a.i(50944),bi=a.i(5050),bj=(0,bi.createServerReference)("40a6cc6f1f2178696141d579a69bfb77252b4d97f8",bi.callServer,void 0,bi.findSourceMapURL,"createTrade"),bk=a.i(62820),bl=(0,bi.createServerReference)("0083eb236ecd51927952cda1a88f01b78b44944c75",bi.callServer,void 0,bi.findSourceMapURL,"getSections");function bm({onTradeAdded:a}){let[d,e]=(0,c.useState)(!1),[f,g]=(0,c.useState)(!1),h=(0,bh.useRouter)(),[i,j]=(0,c.useState)({type:"Long"}),k=async b=>{b.preventDefault(),g(!0);try{let b=`trade_${Date.now()}`,c=i.date||new Date().toISOString().split("T")[0],d=i.ticker?.toUpperCase()||"",f=Number(i.pnl)||0,g={id:b,date:c,ticker:d,type:i.type,entryPrice:Number(i.entryPrice)||0,exitPrice:Number(i.exitPrice)||0,quantity:Number(i.quantity)||0,pnl:f,status:"Closed",notes:i.notes||""};await bj(g);let k=await bl(),l=k.find(a=>"Trade Notes"===a.name),m=l?l.id:k[0]?.id||"s1",n={id:`note_${Date.now()}`,sectionId:m,title:`${d} ${g.type} (${c})`,content:`
# Trade Details
- **Ticker**: ${d}
- **Direction**: ${g.type}
- **Date**: ${c}
- **Net P&L**: $${f.toFixed(2)}

## Notes
${g.notes||"No initial notes."}

## Review
`,date:c};await (0,bk.createNote)(n),h.refresh(),a&&a(),e(!1),j({type:"Long"})}catch(a){console.error("Failed to save trade:",a),alert("Failed to save trade. Please try again.")}finally{g(!1)}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>e(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-md font-medium flex items-center shadow-lg shadow-primary/20 transition-all hover:scale-105",children:[(0,b.jsx)(be.Plus,{className:"h-4 w-4 mr-2"}),"New Trade"]}),(0,b.jsxs)(bg.Modal,{isOpen:d,onClose:()=>e(!1),children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Log New Trade"}),(0,b.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Date"}),(0,b.jsx)("input",{type:"date",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm",value:i.date||"",onChange:a=>j({...i,date:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Ticker"}),(0,b.jsx)("input",{type:"text",placeholder:"AAPL",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm uppercase",value:i.ticker||"",onChange:a=>j({...i,ticker:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Direction"}),(0,b.jsx)("div",{className:"flex bg-muted/50 rounded p-1",children:["Long","Short"].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>j({...i,type:a}),className:`flex-1 text-sm py-1 rounded transition-colors ${i.type===a?"Long"===a?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500":"text-muted-foreground"}`,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Quantity"}),(0,b.jsx)("input",{type:"number",placeholder:"0",className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm",value:i.quantity||"",onChange:a=>j({...i,quantity:Number(a.target.value)})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Entry Price"}),(0,b.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm",value:i.entryPrice||"",onChange:a=>j({...i,entryPrice:Number(a.target.value)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Exit Price"}),(0,b.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm",value:i.exitPrice||"",onChange:a=>j({...i,exitPrice:Number(a.target.value)})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Net P&L ($)"}),(0,b.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 font-bold",value:i.pnl||"",onChange:a=>j({...i,pnl:Number(a.target.value)})})]}),(0,b.jsx)("button",{type:"submit",disabled:f,className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 py-2 rounded-md font-medium flex justify-center items-center",children:f?(0,b.jsx)(bf.Loader2,{className:"animate-spin h-4 w-4"}):"Save Trade"})]})]})]})}let bn=c.forwardRef(({className:a,variant:c="default",size:d="default",asChild:e=!1,...f},g)=>(e&&console.warn("Button: asChild prop requires @radix-ui/react-slot which is not installed. Rendering as button."),(0,b.jsx)("button",{className:(0,a8.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[c],{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[d],a),ref:g,...f})));bn.displayName="Button";let bo=(0,a9.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var bp=a.i(3635),bq=a.i(76764),br=a.i(50330);function bs(){let[a,d]=(0,c.useState)(!1),[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(""),i=(0,bh.useRouter)();(0,c.useEffect)(()=>{let a=localStorage.getItem("trading_app_trades"),b=localStorage.getItem("trading_app_categories"),c=localStorage.getItem("trading_app_notes");(a||b||c)&&d(!0)},[]);let j=async()=>{if(confirm("This will upload your local data to the cloud database. Continue?")){f(!0),h("Starting migration...");try{let a=localStorage.getItem("trading_app_categories");if(a){for(let b of JSON.parse(a))if(h(`Migrating Category: ${b.name}`),await (0,bp.createCategory)({id:b.id,name:b.name,color:b.color}),b.tags)for(let a of b.tags)await (0,bq.createTag)({id:a.id,categoryId:b.id,name:a.name,color:a.color})}let b=localStorage.getItem("trading_app_trades");if(b){let a=JSON.parse(b),c=0;for(let b of a)c++,h(`Migrating Trade ${c}/${a.length}`),await bj({id:b.id,date:b.date,ticker:b.ticker,type:b.type,entryPrice:Number(b.entryPrice),exitPrice:Number(b.exitPrice),quantity:Number(b.quantity),pnl:Number(b.pnl),status:b.status||"Closed",notes:b.notes,contracts:Number(b.contracts||b.quantity),points:Number(b.points),ticks:Number(b.ticks),rating:Number(b.rating),profitTarget:Number(b.profitTarget),stopLoss:Number(b.stopLoss),plannedRR:Number(b.plannedRR),realizedRR:Number(b.realizedRR),tags:b.tags})}localStorage.getItem("trading_app_sections");let c=localStorage.getItem("trading_app_notes");if(c)for(let a of JSON.parse(c))h(`Migrating Note: ${a.title}`),await (0,bk.createNote)({id:a.id,title:a.title,content:a.content,date:a.date,sectionId:a.sectionId||"s1"});let d=localStorage.getItem("trading_app_templates");if(d)for(let a of JSON.parse(d))h(`Migrating Template: ${a.name}`),await (0,br.createTemplate)({id:a.id,name:a.name,content:a.content});h("Migration Complete!"),alert("Migration Successful! You can now clear your local browser data if you wish."),i.refresh()}catch(a){console.error(a),alert("Migration failed. Check console for details.")}finally{f(!1)}}};return a?(0,b.jsx)(aA.Card,{className:"mb-6 border-blue-500/50 bg-blue-500/5",children:(0,b.jsxs)(aA.CardContent,{className:"flex items-center justify-between p-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(bo,{className:"h-6 w-6 text-blue-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-500",children:"Local Data Detected"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Migrate your browser data to the cloud database."})]})]}),(0,b.jsx)(bn,{onClick:j,disabled:e,variant:"outline",className:"border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(bf.Loader2,{className:"mr-2 h-4 w-4 animate-spin"})," ",g]}):"Migrate to Cloud"})]})}):null}function bt({initialTrades:a}){let[i,j]=(0,c.useState)(a);(0,c.useEffect)(()=>{j(a)},[a]);let k=function(a){if(!a||0===a.length)return{netPnl:0,winRate:0,profitFactor:0,avgWin:0,avgLoss:0,totalTrades:0};let b=0,c=0,d=0,e=0,f=0,g=0;a.forEach(a=>{b+=a.pnl,a.pnl>0?(c++,d+=a.pnl,f+=a.pnl):(e+=Math.abs(a.pnl),g+=Math.abs(a.pnl))});let h=c/a.length*100,i=0===e?d:d/e,j=0===c?0:f/c,k=a.length-c==0?0:g/(a.length-c);return{netPnl:b,winRate:h,profitFactor:i,avgWin:j,avgLoss:k,totalTrades:a.length}}(i);return(0,b.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,b.jsx)("div",{className:"flex items-center space-x-2",children:(0,b.jsx)(bm,{})})]}),(0,b.jsx)(bs,{}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[(0,b.jsx)(h.StatCard,{title:"Net P&L",value:`$${k.netPnl.toFixed(2)}`,icon:d.DollarSign,trend:k.totalTrades>0?`${k.totalTrades} trades total`:"No trades yet",trendUp:k.netPnl>=0}),(0,b.jsx)(h.StatCard,{title:"Win Rate",value:`${k.winRate.toFixed(1)}%`,icon:e.Percent,trendUp:k.winRate>=50}),(0,b.jsx)(h.StatCard,{title:"Profit Factor",value:k.profitFactor.toFixed(2),icon:f.TrendingUp,trendUp:k.profitFactor>=1.5}),(0,b.jsx)(h.StatCard,{title:"Avg Win / Loss",value:`$${k.avgWin.toFixed(0)} / $${k.avgLoss.toFixed(0)}`,icon:g.Activity}),(0,b.jsx)(h.StatCard,{title:"Avg Daily",value:`$${(k.totalTrades>0?k.netPnl/k.totalTrades:0).toFixed(2)}`,icon:g.Activity})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-7",children:[(0,b.jsxs)("div",{className:"col-span-4 space-y-4",children:[(0,b.jsx)(aR,{trades:i}),(0,b.jsx)(a4,{trades:i})]}),(0,b.jsxs)("div",{className:"col-span-3 space-y-4",children:[(0,b.jsx)(bc,{trades:i}),(0,b.jsx)(bd,{trades:i})]})]})]})}a.s(["default",()=>bt],1422)}];

//# sourceMappingURL=components_dashboard_DashboardClient_tsx_05c86cef._.js.map