(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm",e),...r}));s.displayName="Card";let d=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h3",{ref:s,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));n.displayName="CardDescription";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));i.displayName="CardContent",e.s(["Card",()=>s,"CardContent",()=>i,"CardDescription",()=>n,"CardHeader",()=>d,"CardTitle",()=>l])},56563,e=>{"use strict";let t=[{id:"cat_mistakes",name:"Mistakes",color:"red",tags:[{id:"tag_fomo",name:"FOMO",color:"text-red-500 bg-red-500/10"},{id:"tag_revenge",name:"Revenge",color:"text-red-500 bg-red-500/10"}]},{id:"cat_strategies",name:"Strategies",color:"blue",tags:[{id:"tag_breakout",name:"Breakout",color:"text-blue-500 bg-blue-500/10"},{id:"tag_reversal",name:"Reversal",color:"text-blue-500 bg-blue-500/10"}]},{id:"cat_timeframe",name:"Time Frame",color:"yellow",tags:[{id:"tag_1m",name:"1 Minute",color:"text-yellow-500 bg-yellow-500/10"}]}],r=[{id:"t1",name:"Daily Plan",content:"\n# Daily Plan\n- [ ] Review Overnight Action\n- [ ] Check Economic Calendar\n- [ ] Key Levels to Watch:\n  - ES: \n  - NQ: \n"},{id:"t2",name:"Trade Review",content:"\n# Trade Review\n- Setup:\n- Execution:\n- Psychology:\n- Outcome:\n- Improvements:\n"},{id:"t3",name:"Weekly Review",content:"\n# Weekly Review\n- P&L: \n- Best Trade:\n- Worst Trade:\n- Lessons Learned:\n"}],a=[{id:"s1",name:"Trade Notes"},{id:"s2",name:"Daily Journal"},{id:"s3",name:"Strategy"},{id:"s4",name:"Backtesting"}],s="trading_journal_trades",d="trading_journal_categories",l="trading_journal_notes",n="trading_journal_sections",i="trading_journal_templates",o=()=>{let e=localStorage.getItem(s);return e?JSON.parse(e):[]},c=()=>{let e=localStorage.getItem(l);return e?JSON.parse(e):[]};e.s(["deleteNote",0,e=>{let t=c().filter(t=>t.id!==e);return localStorage.setItem(l,JSON.stringify(t)),t},"getCategories",0,()=>{let e=localStorage.getItem(d);return e?JSON.parse(e):(localStorage.setItem(d,JSON.stringify(t)),t)},"getNotes",0,c,"getSections",0,()=>{let e=localStorage.getItem(n);return e?JSON.parse(e):(localStorage.setItem(n,JSON.stringify(a)),a)},"getTemplates",0,()=>{let e=localStorage.getItem(i);return e?JSON.parse(e):(localStorage.setItem(i,JSON.stringify(r)),r)},"getTrades",0,o,"saveCategories",0,e=>{localStorage.setItem(d,JSON.stringify(e))},"saveNote",0,e=>{let t,r=c(),a=r.findIndex(t=>t.id===e.id);return a>=0?(t=[...r])[a]=e:t=[e,...r],localStorage.setItem(l,JSON.stringify(t)),t},"saveTemplates",0,e=>{localStorage.setItem(i,JSON.stringify(e))},"saveTrade",0,e=>{let t,r=o(),a=r.findIndex(t=>t.id===e.id);return a>=0?(t=[...r])[a]=e:t=[e,...r],localStorage.setItem(s,JSON.stringify(t)),t}])},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},44582,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566);let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var d=e.i(56909),l=e.i(56563),n=e.i(70065);function i(){let{id:e}=(0,a.useParams)(),i=(0,a.useRouter)(),[o,c]=(0,r.useState)(null),[u,m]=(0,r.useState)([]),[g,p]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let t=(0,l.getTrades)().find(t=>t.id===e);t&&c(t),m((0,l.getCategories)()),p(!1)},[e]);let x=(0,r.useCallback)(e=>{let{entryPrice:t,exitPrice:r,stopLoss:a,profitTarget:s,type:d}=e,l={},n=!1;if(t&&r){let a=Number(("Long"===d?r-t:t-r).toFixed(2));e.points!==a&&(l.points=a,n=!0)}let i=0;if(t&&a&&(i=Math.abs(t-a)),i>0&&s){let r=Number((Math.abs(s-t)/i).toFixed(2));e.plannedRR!==r&&(l.plannedRR=r,n=!0)}if(i>0&&r){let a=Number((("Long"===d?r-t:t-r)/i).toFixed(2));e.realizedRR!==a&&(l.realizedRR=a,n=!0)}return n?l:null},[]);return((0,r.useEffect)(()=>{if(!o)return;let e=x(o);e&&c(t=>t?{...t,...e}:null)},[o?.entryPrice,o?.exitPrice,o?.stopLoss,o?.profitTarget,o?.type]),g)?(0,t.jsx)("div",{className:"p-8",children:"Loading..."}):o?(0,t.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,t.jsx)("button",{onClick:()=>i.back(),className:"p-2 hover:bg-muted rounded-full",children:(0,t.jsx)(s,{className:"h-5 w-5"})}),(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Edit Trade"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o&&((0,l.saveTrade)(o),i.push("/trades"))},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:"Trade Details"})}),(0,t.jsxs)(n.CardContent,{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Date"}),(0,t.jsx)("input",{type:"date",className:"w-full mt-1 bg-background border border-input rounded px-3 py-2",value:o.date,onChange:e=>c({...o,date:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Ticker"}),(0,t.jsx)("input",{type:"text",className:"w-full mt-1 bg-background border border-input rounded px-3 py-2 uppercase",value:o.ticker,onChange:e=>c({...o,ticker:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Direction"}),(0,t.jsxs)("select",{className:"w-full mt-1 bg-background border border-input rounded px-3 py-2",value:o.type,onChange:e=>c({...o,type:e.target.value}),children:[(0,t.jsx)("option",{value:"Long",children:"Long"}),(0,t.jsx)("option",{value:"Short",children:"Short"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Quantity/Contracts"}),(0,t.jsx)("input",{type:"number",className:"w-full mt-1 bg-background border border-input rounded px-3 py-2",value:o.contracts||o.quantity,onChange:e=>c({...o,contracts:Number(e.target.value),quantity:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Entry Price"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:"w-full mt-1 bg-background border border-input rounded px-3 py-2",value:o.entryPrice,onChange:e=>c({...o,entryPrice:Number(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Exit Price"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:"w-full mt-1 bg-background border border-input rounded px-3 py-2",value:o.exitPrice,onChange:e=>c({...o,exitPrice:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Net P&L ($)"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:`w-full mt-1 bg-background border border-input rounded px-3 py-2 font-bold ${o.pnl>0?"text-green-500":"text-red-500"}`,value:o.pnl,onChange:e=>c({...o,pnl:Number(e.target.value)})})]})]})]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:"Metrics & Risk"})}),(0,t.jsxs)(n.CardContent,{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Profit Target"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:"w-full mt-1 bg-background border border-input rounded px-3 py-2",value:o.profitTarget||"",onChange:e=>c({...o,profitTarget:Number(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Stop Loss"}),(0,t.jsx)("input",{type:"number",step:"0.01",className:"w-full mt-1 bg-background border border-input rounded px-3 py-2",value:o.stopLoss||"",onChange:e=>c({...o,stopLoss:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Planned R:R (Auto)"}),(0,t.jsx)("input",{type:"number",step:"0.1",className:"w-full mt-1 bg-muted border border-input rounded px-3 py-2 text-muted-foreground",value:o.plannedRR||"",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Realized R:R (Auto)"}),(0,t.jsx)("input",{type:"number",step:"0.1",className:`w-full mt-1 bg-muted border border-input rounded px-3 py-2 font-bold ${Number(o.realizedRR)>0?"text-green-500":"text-red-500"}`,value:o.realizedRR||"",readOnly:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Points Captured (Auto)"}),(0,t.jsx)("input",{type:"number",step:"0.25",className:"w-full mt-1 bg-muted border border-input rounded px-3 py-2",value:o.points||"",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Rating (1-10)"}),(0,t.jsx)("input",{type:"number",min:"1",max:"10",className:"w-full mt-1 bg-background border border-input rounded px-3 py-2",value:o.rating||"",onChange:e=>c({...o,rating:Number(e.target.value)})})]})]})]})]}),(0,t.jsxs)(n.Card,{className:"md:col-span-2",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:"Tags"})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("div",{className:"flex flex-wrap gap-4",children:u.map(e=>(0,t.jsxs)("div",{className:"border border-border p-3 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-xs uppercase font-bold text-muted-foreground mb-2",children:e.name}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.tags.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>(e=>{if(!o)return;let t=o.tags.includes(e)?o.tags.filter(t=>t!==e):[...o.tags,e];c({...o,tags:t})})(e.id),className:`text-xs px-2 py-1 rounded border transition-colors ${o.tags.includes(e.id)?"bg-primary text-primary-foreground border-primary":"bg-background border-border text-muted-foreground hover:border-primary/50"}`,children:e.name},e.id))})]},e.id))})})]}),(0,t.jsxs)(n.Card,{className:"md:col-span-2",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:"Notes"})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("textarea",{className:"w-full min-h-[150px] bg-background border border-input rounded px-3 py-2 font-mono text-sm leading-relaxed focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Trade execution notes...",value:o.notes,onChange:e=>c({...o,notes:e.target.value})})})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)("button",{type:"submit",className:"bg-primary text-primary-foreground hover:bg-primary/90 px-8 py-3 rounded-md font-medium text-lg flex items-center shadow-lg",children:[(0,t.jsx)(d.Save,{className:"h-5 w-5 mr-2"}),"Save Changes"]})})]})]}):(0,t.jsx)("div",{className:"p-8",children:"Trade not found."})}e.s(["default",()=>i],44582)}]);