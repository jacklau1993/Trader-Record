(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(12426),n=e.i(57086),i=e.i(25652),l=e.i(21218),s=e.i(15531),o=e.i(31195),d=e.i(25949),c=e.i(33369),u=["axis"],p=(0,r.forwardRef)((e,t)=>r.createElement(c.CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:u,tooltipPayloadSearcher:d.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),m=r,x=e.i(7670),h=e.i(72733),f=e.i(97865),y=e.i(69212),v=e.i(86031),g=e.i(62728),b=e.i(94395),N=e.i(79812),j=e.i(81977),C=e.i(41818),P=e.i(844),A=e.i(59798),D=e.i(61849),k=e.i(61764),E=e.i(46710),S=e.i(92860),w=e.i(91526),I=e.i(77320),O=(e,t,r,a)=>(0,k.selectAxisWithScale)(e,"xAxis",t,a),T=(e,t,r,a)=>(0,k.selectTicksOfGraphicalItem)(e,"xAxis",t,a),L=(e,t,r,a)=>(0,k.selectAxisWithScale)(e,"yAxis",r,a),M=(e,t,r,a)=>(0,k.selectTicksOfGraphicalItem)(e,"yAxis",r,a),$=(0,D.createSelector)([E.selectChartLayout,O,L,T,M],(e,t,r,a,n)=>(0,N.isCategoricalAxis)(e,"xAxis")?(0,N.getBandSizeOfAxis)(t,a,!1):(0,N.getBandSizeOfAxis)(r,n,!1)),F=(0,D.createSelector)([k.selectUnfilteredCartesianItems,(e,t,r,a,n)=>n],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),W=(0,D.createSelector)([E.selectChartLayout,O,L,T,M,(e,t,r,a,n)=>{var i,l,s=F(e,t,r,a,n);if(null!=s){var o=(0,E.selectChartLayout)(e);if(null!=(l=(0,N.isCategoricalAxis)(o,"xAxis")?(0,k.selectStackGroups)(e,"yAxis",r,a):(0,k.selectStackGroups)(e,"xAxis",t,a))){var{stackId:d}=s,c=(0,w.getStackSeriesIdentifier)(s);if(null!=d&&null!=c){var u=null==(i=l[d])?void 0:i.stackedData;return null==u?void 0:u.find(e=>e.key===c)}}}},S.selectChartDataWithIndexesIfNotInPanorama,$,F,I.selectChartBaseValue],(e,t,r,a,n,i,l,s,o,d)=>{var c,{chartData:u,dataStartIndex:p,dataEndIndex:m}=l;if(null!=o&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=a&&null!=n&&0!==a.length&&0!==n.length&&null!=s){var{data:x}=o;if(null!=(c=x&&x.length>0?x:null==u?void 0:u.slice(p,m+1)))return function(e){var t,{areaSettings:{connectNulls:r,baseValue:a,dataKey:n},stackedData:i,layout:l,chartBaseValue:s,xAxis:o,yAxis:d,displayedData:c,dataStartIndex:u,xAxisTicks:p,yAxisTicks:m,bandSize:x}=e,h=i&&i.length,f=((e,t,r,a,n)=>{var i=null!=r?r:t;if((0,b.isNumber)(i))return i;var l="horizontal"===e?n:a,s=l.scale.domain();if("number"===l.type){var o=Math.max(s[0],s[1]),d=Math.min(s[0],s[1]);return"dataMin"===i?d:"dataMax"===i||o<0?o:Math.max(Math.min(s[0],s[1]),0)}return"dataMin"===i?s[0]:"dataMax"===i?s[1]:s[0]})(l,s,a,o,d),y="horizontal"===l,v=!1,g=c.map((e,t)=>{h?a=i[u+t]:Array.isArray(a=(0,N.getValueByDataKey)(e,n))?v=!0:a=[f,a];var a,l=null==a[1]||h&&!r&&null==(0,N.getValueByDataKey)(e,n);return y?{x:(0,N.getCateCoordinateOfLine)({axis:o,ticks:p,bandSize:x,entry:e,index:t}),y:l?null:d.scale(a[1]),value:a,payload:e}:{x:l?null:o.scale(a[1]),y:(0,N.getCateCoordinateOfLine)({axis:d,ticks:m,bandSize:x,entry:e,index:t}),value:a,payload:e}});return t=h||v?g.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?d.scale(t):null,payload:e.payload}:{x:null!=t?o.scale(t):null,y:e.y,payload:e.payload}}):y?d.scale(f):o.scale(f),{points:g,baseLine:t,isRange:v}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataStartIndex:p,areaSettings:o,stackedData:i,displayedData:c,chartBaseValue:d,bandSize:s})}}),R=e.i(75337),z=e.i(75502),B=e.i(95146),U=e.i(27241),K=e.i(40657),q=e.i(51883),H=e.i(22075),G=e.i(52734),Y=e.i(15549),V=e.i(91187),Z=e.i(57999),X=e.i(66576),_=e.i(81583),J=e.i(43404),Q=e.i(29601),ee=e.i(18457),et=e.i(20135),er=["id"],ea=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function en(){return(en=Object.assign.bind()).apply(null,arguments)}function ei(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eo(e,t){return e&&"none"!==e?e:t}var ed=m.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:i,name:l,hide:s,unit:o,tooltipType:d}=e,c={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:(0,N.getTooltipNameProp)(l,t),hide:s,type:d,color:eo(a,i),unit:o}};return m.createElement(P.SetTooltipEntrySettings,{tooltipEntrySettings:c})});function ec(e){var{clipPathId:t,points:r,props:a}=e,{needClip:n,dot:i,dataKey:l}=a,s=(0,Z.svgPropertiesNoEvents)(a);return m.createElement(v.Dots,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:s,needClip:n,clipPathId:t})}function eu(e){var{showLabels:t,children:r,points:a}=e,n=a.map(e=>{var t,r,a={x:null!=(t=e.x)?t:0,y:null!=(r=e.y)?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return es(es({},a),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:a,fill:void 0})});return m.createElement(y.CartesianLabelListContextProvider,{value:t?n:void 0},r)}function ep(e){var{points:t,baseLine:r,needClip:a,clipPathId:n,props:i}=e,{layout:l,type:s,stroke:o,connectNulls:d,isRange:c}=i,{id:u}=i,p=ei(i,er),x=(0,Z.svgPropertiesNoEvents)(p),y=(0,J.svgPropertiesAndEvents)(p);return m.createElement(m.Fragment,null,(null==t?void 0:t.length)>1&&m.createElement(f.Layer,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},m.createElement(h.Curve,en({},y,{id:u,points:t,connectNulls:d,type:s,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==o&&m.createElement(h.Curve,en({},x,{className:"recharts-area-curve",layout:l,type:s,connectNulls:d,fill:"none",points:t})),"none"!==o&&c&&m.createElement(h.Curve,en({},x,{className:"recharts-area-curve",layout:l,type:s,connectNulls:d,fill:"none",points:r}))),m.createElement(ec,{points:t,props:p,clipPathId:n}))}function em(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].y,l=a[a.length-1].y;if(!(0,H.isWellBehavedNumber)(i)||!(0,H.isWellBehavedNumber)(l))return null;var s=t*Math.abs(i-l),o=Math.max(...a.map(e=>e.x||0));return((0,b.isNumber)(r)?o=Math.max(r,o):r&&Array.isArray(r)&&r.length&&(o=Math.max(...r.map(e=>e.x||0),o)),(0,b.isNumber)(o))?m.createElement("rect",{x:0,y:i<l?i:i-s,width:o+(n?parseInt("".concat(n),10):1),height:Math.floor(s)}):null}function ex(e){var{alpha:t,baseLine:r,points:a,strokeWidth:n}=e,i=a[0].x,l=a[a.length-1].x;if(!(0,H.isWellBehavedNumber)(i)||!(0,H.isWellBehavedNumber)(l))return null;var s=t*Math.abs(i-l),o=Math.max(...a.map(e=>e.y||0));return((0,b.isNumber)(r)?o=Math.max(r,o):r&&Array.isArray(r)&&r.length&&(o=Math.max(...r.map(e=>e.y||0),o)),(0,b.isNumber)(o))?m.createElement("rect",{x:i<l?i:i-s,y:0,width:s,height:Math.floor(o+(n?parseInt("".concat(n),10):1))}):null}function eh(e){var{alpha:t,layout:r,points:a,baseLine:n,strokeWidth:i}=e;return"vertical"===r?m.createElement(em,{alpha:t,points:a,baseLine:n,strokeWidth:i}):m.createElement(ex,{alpha:t,points:a,baseLine:n,strokeWidth:i})}function ef(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i}=e,{points:l,baseLine:s,isAnimationActive:o,animationBegin:d,animationDuration:c,animationEasing:u,onAnimationStart:p,onAnimationEnd:x}=a,h=(0,m.useMemo)(()=>({points:l,baseLine:s}),[l,s]),v=(0,K.useAnimationId)(h,"recharts-area-"),g=(0,E.useCartesianChartLayout)(),[N,j]=(0,m.useState)(!1),C=(0,m.useCallback)(()=>{"function"==typeof x&&x(),j(!1)},[x]),P=(0,m.useCallback)(()=>{"function"==typeof p&&p(),j(!0)},[p]);if(null==g)return null;var A=n.current,D=i.current;return m.createElement(eu,{showLabels:!N,points:l},a.children,m.createElement(X.JavascriptAnimate,{animationId:v,begin:d,duration:c,isActive:o,easing:u,onAnimationEnd:C,onAnimationStart:P,key:v},e=>{if(A){var d,c=A.length/l.length,u=1===e?l:l.map((t,r)=>{var a=Math.floor(r*c);if(A[a]){var n=A[a];return es(es({},t),{},{x:(0,b.interpolate)(n.x,t.x,e),y:(0,b.interpolate)(n.y,t.y,e)})}return t});return d=(0,b.isNumber)(s)?(0,b.interpolate)(D,s,e):(0,b.isNullish)(s)||(0,b.isNan)(s)?(0,b.interpolate)(D,0,e):s.map((t,r)=>{var a=Math.floor(r*c);if(Array.isArray(D)&&D[a]){var n=D[a];return es(es({},t),{},{x:(0,b.interpolate)(n.x,t.x,e),y:(0,b.interpolate)(n.y,t.y,e)})}return t}),e>0&&(n.current=u,i.current=d),m.createElement(ep,{points:u,baseLine:d,needClip:t,clipPathId:r,props:a})}return e>0&&(n.current=l,i.current=s),m.createElement(f.Layer,null,o&&m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(r)},m.createElement(eh,{alpha:e,points:l,baseLine:s,layout:g,strokeWidth:a.strokeWidth}))),m.createElement(f.Layer,{clipPath:"url(#animationClipPath-".concat(r,")")},m.createElement(ep,{points:l,baseLine:s,needClip:t,clipPathId:r,props:a})))}),m.createElement(y.LabelListFromLabelProp,{label:a.label}))}function ey(e){var{needClip:t,clipPathId:r,props:a}=e,n=(0,m.useRef)(null),i=(0,m.useRef)();return m.createElement(ef,{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:i})}class ev extends m.PureComponent{render(){var{hide:e,dot:t,points:r,className:a,top:n,left:i,needClip:l,xAxisId:s,yAxisId:o,width:d,height:c,id:u,baseLine:p,zIndex:h}=this.props;if(e)return null;var y=(0,x.clsx)("recharts-area",a),{r:v,strokeWidth:g}=(0,_.getRadiusAndStrokeWidthFromDot)(t),b=(0,j.isClipDot)(t),N=2*v+g,P=l?"url(#clipPath-".concat(b?"":"dots-").concat(u,")"):void 0;return m.createElement(Q.ZIndexLayer,{zIndex:h},m.createElement(f.Layer,{className:y},l&&m.createElement("defs",null,m.createElement(A.GraphicalItemClipPath,{clipPathId:u,xAxisId:s,yAxisId:o}),!b&&m.createElement("clipPath",{id:"clipPath-dots-".concat(u)},m.createElement("rect",{x:i-N/2,y:n-N/2,width:d+N,height:c+N}))),m.createElement(ey,{needClip:l,clipPathId:u,props:this.props})),m.createElement(C.ActivePoints,{points:r,mainColor:eo(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(p)&&m.createElement(C.ActivePoints,{points:p,mainColor:eo(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var eg={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ee.DefaultZIndexes.area};function eb(e){var t,r=(0,q.resolveDefaultProps)(e,eg),{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,connectNulls:s,dot:o,fill:d,fillOpacity:c,hide:u,isAnimationActive:p,legendType:x,stroke:h,xAxisId:f,yAxisId:y}=r,v=ei(r,ea),b=(0,E.useChartLayout)(),N=(0,z.useChartName)(),{needClip:j}=(0,A.useNeedsClip)(f,y),C=(0,R.useIsPanorama)(),{points:P,isRange:D,baseLine:k}=null!=(t=(0,U.useAppSelector)(t=>W(t,f,y,C,e.id)))?t:{},S=(0,G.usePlotArea)();if("horizontal"!==b&&"vertical"!==b||null==S||"AreaChart"!==N&&"ComposedChart"!==N)return null;var{height:w,width:I,x:O,y:T}=S;return P&&P.length?m.createElement(ev,en({},v,{activeDot:a,animationBegin:n,animationDuration:i,animationEasing:l,baseLine:k,connectNulls:s,dot:o,fill:d,fillOpacity:c,height:w,hide:u,layout:b,isAnimationActive:"auto"===p?!g.Global.isSsr:p,isRange:D,legendType:x,needClip:j,points:P,stroke:h,width:I,left:O,top:T,xAxisId:f,yAxisId:y})):null}var eN=m.memo(function(e){var t=(0,q.resolveDefaultProps)(e,eg),r=(0,R.useIsPanorama)();return m.createElement(Y.RegisterGraphicalItemId,{id:t.id,type:"area"},e=>m.createElement(m.Fragment,null,m.createElement(B.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:a,fill:n,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:eo(a,n),value:(0,N.getTooltipNameProp)(r,t),payload:e}]})(t)}),m.createElement(ed,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),m.createElement(V.SetCartesianGraphicalItem,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:(0,N.getNormalizedStackId)(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),m.createElement(eb,en({},t,{id:e}))))},et.propsAreEqual);eN.displayName="Area";var ej=e.i(85183),eC=e.i(93230),eP=e.i(72526),eA=e.i(34239),eD=e.i(70065),ek=e.i(1851),eE=e.i(34662),eS=e.i(77241),ew=e.i(81092);function eI(e,t){let r,a,n=()=>(0,eS.constructFrom)(t?.in,NaN),i=t?.additionalDigits??2,l=function(e){let t,r={},a=e.split(eO);if(a.length>2)return r;if(/:/.test(a[0])?t=a[0]:(r.date=a[0],t=a[1],eT.test(r.date)&&(r.date=e.split(eT)[0],t=e.substr(r.date.length,e.length))),t){let e=eL.exec(t);e?(r.time=t.replace(e[1],""),r.timezone=e[1]):r.time=t}return r}(e);if(l.date){let e=function(e,t){let r=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};let n=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:null===i?n:100*i,restDateString:e.slice((a[1]||a[2]).length)}}(l.date,i);r=function(e,t){var r,a,n,i,l,s,o,d,c,u;if(null===t)return new Date(NaN);let p=e.match(eM);if(!p)return new Date(NaN);let m=!!p[4],x=eW(p[1]),h=eW(p[2])-1,f=eW(p[3]),y=eW(p[4]),v=eW(p[5])-1;if(m){let e,s;return(r=y,a=v,r>=1&&r<=53&&a>=0&&a<=6)?(n=t,i=y,l=v,(e=new Date(0)).setUTCFullYear(n,0,4),s=e.getUTCDay()||7,e.setUTCDate(e.getUTCDate()+((i-1)*7+l+1-s)),e):new Date(NaN)}{let e=new Date(0);return(s=t,o=h,d=f,o>=0&&o<=11&&d>=1&&d<=(ez[o]||(eB(s)?29:28))&&(c=t,(u=x)>=1&&u<=(eB(c)?366:365)))?(e.setUTCFullYear(t,h,Math.max(x,f)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!r||isNaN(+r))return n();let s=+r,o=0;if(l.time&&isNaN(o=function(e){var t,r,a;let n=e.match(e$);if(!n)return NaN;let i=eR(n[1]),l=eR(n[2]),s=eR(n[3]);return(t=i,r=l,a=s,24===t?0===r&&0===a:a>=0&&a<60&&r>=0&&r<60&&t>=0&&t<25)?i*eE.millisecondsInHour+l*eE.millisecondsInMinute+1e3*s:NaN}(l.time)))return n();if(l.timezone){if(isNaN(a=function(e){var t;if("Z"===e)return 0;let r=e.match(eF);if(!r)return 0;let a="+"===r[1]?-1:1,n=parseInt(r[2]),i=r[3]&&parseInt(r[3])||0;return(t=i)>=0&&t<=59?a*(n*eE.millisecondsInHour+i*eE.millisecondsInMinute):NaN}(l.timezone)))return n()}else{let e=new Date(s+o),r=(0,ew.toDate)(0,t?.in);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}return(0,ew.toDate)(s+o+a,t?.in)}let eO=/[T ]/,eT=/[Z ]/i,eL=/([Z+-].*)$/,eM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,e$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,eF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eW(e){return e?parseInt(e):1}function eR(e){return e&&parseFloat(e.replace(",","."))||0}let ez=[31,null,31,30,31,30,31,31,30,31,30,31];function eB(e){return e%400==0||e%4==0&&e%100!=0}function eU(e,t){let r=(0,ew.toDate)(e)-(0,ew.toDate)(t);return r<0?-1:r>0?1:r}function eK({trades:e}){let a=(0,r.useMemo)(()=>{if(0===e.length)return[];let t={};e.forEach(e=>{let r=e.date;t[r]=(t[r]||0)+e.pnl});let r=Object.keys(t).sort((e,t)=>eU(eI(e),eI(t))),a=0;return r.map(e=>(a+=t[e],{date:(0,ek.format)(eI(e),"MMM dd"),pl:a,daily:t[e]}))},[e]);return(0,t.jsxs)(eD.Card,{className:"col-span-4",children:[(0,t.jsx)(eD.CardHeader,{children:(0,t.jsx)(eD.CardTitle,{children:"Cumulative Net P&L"})}),(0,t.jsx)(eD.CardContent,{className:"pl-2",children:(0,t.jsx)("div",{className:"h-[300px]",children:a.length>0?(0,t.jsx)(o.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(p,{data:a,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"colorPl",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),(0,t.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),(0,t.jsx)(ej.XAxis,{dataKey:"date",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),(0,t.jsx)(eC.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>`$${e}`}),(0,t.jsx)(eP.CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),(0,t.jsx)(eA.Tooltip,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#f8fafc"},itemStyle:{color:"#f8fafc"},formatter:e=>[`$${e}`,"Net P&L"]}),(0,t.jsx)(eN,{type:"monotone",dataKey:"pl",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorPl)"})]})}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:"No data available"})})})]})}var eq=e.i(9694),eH=e.i(75225),eG=e.i(22787),eY=e.i(494),eV=e.i(44171),eZ=e.i(31725),eX=e.i(89763);function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(t){var a,n,i;a=e,n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eQ(){return(eQ=Object.assign.bind()).apply(null,arguments)}function e0(e){var t=(0,U.useAppDispatch)();return(0,r.useEffect)(()=>(t((0,eZ.addLine)(e)),()=>{t((0,eZ.removeLine)(e))})),null}function e1(e){var{xAxisId:t,yAxisId:a,shape:n,className:i,ifOverflow:l}=e,s=(0,R.useIsPanorama)(),o=(0,eX.useClipPathId)(),d=(0,U.useAppSelector)(e=>(0,k.selectXAxisSettings)(e,t)),c=(0,U.useAppSelector)(e=>(0,k.selectYAxisSettings)(e,a)),u=(0,U.useAppSelector)(e=>(0,k.selectAxisScale)(e,"xAxis",t,s)),p=(0,U.useAppSelector)(e=>(0,k.selectAxisScale)(e,"yAxis",a,s)),m=(0,E.useViewBox)();if(!o||!m||null==d||null==c||null==u||null==p)return null;var h=((e,t,r,a,n,i)=>{var l,{x:s,y:o,segment:d,ifOverflow:c}=i,u=(0,b.isNumOrStr)(s);return(0,b.isNumOrStr)(o)?((e,t,r,a,n,i)=>{var{x:l,width:s}=i,o=n.y.apply(e,{position:r});if((0,b.isNan)(o)||"discard"===t&&!n.y.isInRange(o))return null;var d=[{x:l+s,y:o},{x:l,y:o}];return"left"===a?d.reverse():d})(o,c,r,n,e,t):u?((e,t,r,a,n,i)=>{var{y:l,height:s}=i,o=n.x.apply(e,{position:r});if((0,b.isNan)(o)||"discard"===t&&!n.x.isInRange(o))return null;var d=[{x:o,y:l+s},{x:o,y:l}];return"top"===a?d.reverse():d})(s,c,r,a,e,t):null!=d&&2===d.length?(l=d.map(t=>e.apply(t,{position:r})),"discard"===c&&l.some(t=>!e.isInRange(t))?null:l):null})((0,eV.createLabeledScales)({x:u,y:p}),m,e.position,d.orientation,c.orientation,e);if(!h)return null;var[{x:y,y:v},{x:g,y:N}]=h,j=eJ(eJ({clipPath:"hidden"===l?"url(#".concat(o,")"):void 0},(0,J.svgPropertiesAndEvents)(e)),{},{x1:y,y1:v,x2:g,y2:N}),C=(0,eV.rectWithCoords)({x1:y,y1:v,x2:g,y2:N});return r.createElement(Q.ZIndexLayer,{zIndex:e.zIndex},r.createElement(f.Layer,{className:(0,x.clsx)("recharts-reference-line",i)},((e,t)=>{var a;if(r.isValidElement(e))a=r.cloneElement(e,t);else if("function"==typeof e)a=e(t);else{if(!(0,H.isWellBehavedNumber)(t.x1)||!(0,H.isWellBehavedNumber)(t.y1)||!(0,H.isWellBehavedNumber)(t.x2)||!(0,H.isWellBehavedNumber)(t.y2))return null;a=r.createElement("line",eQ({},t,{className:"recharts-reference-line-line"}))}return a})(n,j),r.createElement(eY.CartesianLabelContextProvider,eQ({},C,{lowerWidth:C.width,upperWidth:C.width}),r.createElement(eY.CartesianLabelFromLabelProp,{label:e.label}),e.children)))}var e2={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:ee.DefaultZIndexes.line};function e5(e){var t=(0,q.resolveDefaultProps)(e,e2);return r.createElement(r.Fragment,null,r.createElement(e0,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),r.createElement(e1,t))}function e3({trades:e}){let a=(0,r.useMemo)(()=>{if(0===e.length)return[];let t={};return e.forEach(e=>{let r=e.date;t[r]=(t[r]||0)+e.pnl}),Object.keys(t).sort((e,t)=>eU(eI(e),eI(t))).map(e=>({date:(0,ek.format)(eI(e),"MMM dd"),pl:t[e]}))},[e]);return(0,t.jsxs)(eD.Card,{className:"col-span-4",children:[(0,t.jsx)(eD.CardHeader,{children:(0,t.jsx)(eD.CardTitle,{children:"Daily Net P&L"})}),(0,t.jsx)(eD.CardContent,{className:"pl-2",children:(0,t.jsx)("div",{className:"h-[250px]",children:a.length>0?(0,t.jsx)(o.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(eq.BarChart,{data:a,children:[(0,t.jsx)(eP.CartesianGrid,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),(0,t.jsx)(ej.XAxis,{dataKey:"date",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1}),(0,t.jsx)(eC.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>`$${e}`}),(0,t.jsx)(eA.Tooltip,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#f8fafc"},cursor:{fill:"#334155",opacity:.2},formatter:e=>[`$${e}`,"Net P&L"]}),(0,t.jsx)(e5,{y:0,stroke:"#64748b"}),(0,t.jsx)(eH.Bar,{dataKey:"pl",children:a.map((e,r)=>(0,t.jsx)(eG.Cell,{fill:e.pl>=0?"#22c55e":"#ef4444"},`cell-${r}`))})]})}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:"No data available"})})})]})}e5.displayName="ReferenceLine";var e4=e.i(45110);function e6(e,t,r){let a=(0,ew.toDate)(e,r?.in);if(isNaN(t))return(0,eS.constructFrom)(r?.in||e,NaN);if(!t)return a;let n=a.getDate(),i=(0,eS.constructFrom)(r?.in||e,a.getTime());return(i.setMonth(a.getMonth()+t+1,0),n>=i.getDate())?i:(a.setFullYear(i.getFullYear(),i.getMonth(),n),a)}var e7=e.i(85890),e8=e.i(47163),e9=e.i(75254);let te=(0,e9.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),tt=(0,e9.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function tr({trades:e}){let[a,n]=(0,r.useState)(new Date),{weeks:i,dailyData:l,weeklyStats:s,currentMonthLabel:o}=(0,r.useMemo)(()=>{let t,r,n,i={};e.forEach(e=>{i[e.date]||(i[e.date]={pnl:0,count:0}),i[e.date].pnl+=e.pnl,i[e.date].count+=1});let l=((t=(0,ew.toDate)(a,void 0)).setDate(1),t.setHours(0,0,0,0),t),s=function(e,t){let{start:r,end:a}=function(e,t){let[r,a]=(0,e4.normalizeDates)(e,t.start,t.end);return{start:r,end:a}}(void 0,e),n=+r>+a,i=n?+r:+a,l=n?a:r;l.setHours(0,0,0,0);let s=(void 0)??1;if(!s)return[];s<0&&(s=-s,n=!n);let o=[];for(;+l<=i;)o.push((0,eS.constructFrom)(r,l)),l.setDate(l.getDate()+s),l.setHours(0,0,0,0);return n?o.reverse():o}({start:l,end:(n=(r=(0,ew.toDate)(a,void 0)).getMonth(),r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r)}),o=(0,ew.toDate)(l,void 0).getDay(),d=Array(o=0===o?6:o-1).fill(null).concat(s),c=[];for(let e=0;e<d.length;e+=7){let t=d.slice(e,e+7);t.length<7&&(t=t.concat(Array(7-t.length).fill(null))),c.push(t)}let u=c.map(e=>{let t=0,r=0;return e.forEach(e=>{if(e){let a=i[(0,ek.format)(e,"yyyy-MM-dd")];a&&(t+=a.pnl,r+=a.count)}}),{pnl:t,count:r}});return{weeks:c,dailyData:i,weeklyStats:u,currentMonthLabel:(0,ek.format)(a,"MMMM yyyy")}},[e,a]);return(0,t.jsxs)(eD.Card,{className:"col-span-3",children:[(0,t.jsxs)(eD.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(eD.CardTitle,{children:o}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>n(e6(a,-1,void 0)),className:"p-1 hover:bg-muted rounded text-muted-foreground hover:text-foreground",children:(0,t.jsx)(te,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>n(new Date),className:"text-xs text-primary hover:underline",children:"Today"}),(0,t.jsx)("button",{onClick:()=>n(e6(a,1)),className:"p-1 hover:bg-muted rounded text-muted-foreground hover:text-foreground",children:(0,t.jsx)(tt,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)(eD.CardContent,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-8 gap-2 text-center text-xs text-muted-foreground mb-2 font-medium",children:[(0,t.jsx)("div",{children:"Mon"}),(0,t.jsx)("div",{children:"Tue"}),(0,t.jsx)("div",{children:"Wed"}),(0,t.jsx)("div",{children:"Thu"}),(0,t.jsx)("div",{children:"Fri"}),(0,t.jsx)("div",{children:"Sat"}),(0,t.jsx)("div",{children:"Sun"}),(0,t.jsx)("div",{className:"text-primary font-bold",children:"Wkly"})]}),(0,t.jsx)("div",{className:"space-y-2",children:i.map((e,r)=>(0,t.jsxs)("div",{className:"grid grid-cols-8 gap-2",children:[e.map((e,r)=>{let a=(0,t.jsx)("div",{className:"aspect-square"});if(e){let r=(0,ek.format)(e,"yyyy-MM-dd"),n=l[r],i=n?.pnl,s="bg-secondary";i&&i>0?s="bg-green-500/20 text-green-500 border-green-500/50":i&&i<0&&(s="bg-red-500/20 text-red-500 border-red-500/50");let o=function(e,t,r){let[a,n]=(0,e4.normalizeDates)(void 0,e,t);return+(0,e7.startOfDay)(a)==+(0,e7.startOfDay)(n)}(e,new Date);a=(0,t.jsxs)("div",{className:(0,e8.cn)("aspect-square flex flex-col items-center justify-center rounded-md border border-transparent transition-all hover:scale-105 cursor-pointer relative",s,o?"ring-2 ring-primary ring-offset-2 ring-offset-background":""),title:`${r}: $${i||0}`,children:[(0,t.jsx)("div",{className:"text-sm font-bold",children:(0,ek.format)(e,"d")})," ",void 0!==i&&0!==i&&(0,t.jsxs)("div",{className:"text-[10px] font-semibold leading-none mt-1",children:[i>0?"+":"",Math.round(i)]})]})}return(0,t.jsx)("div",{children:a},r)}),(0,t.jsx)("div",{className:"aspect-square flex flex-col items-center justify-center rounded-lg bg-muted/40 border border-border",children:s[r].count>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:(0,e8.cn)("font-bold text-sm",s[r].pnl>0?"text-green-500":s[r].pnl<0?"text-red-500":"text-foreground"),children:[s[r].pnl>0?"+":"",Math.round(s[r].pnl/1e3),"k"]}),(0,t.jsxs)("span",{className:"text-[10px] text-muted-foreground font-medium",children:[s[r].count," trades"]})]}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground/30",children:"-"})})]},r))})]})]})}function ta({trades:e}){let r=[...e].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,6);return(0,t.jsxs)(eD.Card,{className:"col-span-3",children:[(0,t.jsx)(eD.CardHeader,{children:(0,t.jsx)(eD.CardTitle,{children:"Recent Trades"})}),(0,t.jsx)(eD.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:0===r.length?(0,t.jsx)("div",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent trades"}):r.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-border pb-3 last:border-0 last:pb-0",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"font-bold text-sm",children:e.ticker}),(0,t.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${"Long"===e.type?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:e.type})]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,ek.format)(new Date(e.date),"MMM dd")})]}),(0,t.jsxs)("div",{className:`font-mono font-medium text-sm ${e.pnl>0?"text-green-500":"text-red-500"}`,children:[e.pnl>0?"+":"","$",e.pnl.toFixed(2)]})]},e.id))})})]})}var tn=e.i(7233),ti=e.i(56563),tl=e.i(2957);function ts({onTradeAdded:e}){let[a,n]=(0,r.useState)(!1),[i,l]=(0,r.useState)({type:"Long"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>n(!0),className:"bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 rounded-md font-medium flex items-center shadow-lg shadow-primary/20 transition-all hover:scale-105",children:[(0,t.jsx)(tn.Plus,{className:"h-4 w-4 mr-2"}),"New Trade"]}),(0,t.jsxs)(tl.Modal,{isOpen:a,onClose:()=>n(!1),children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Log New Trade"}),(0,t.jsxs)("form",{onSubmit:t=>{t.preventDefault();let r={id:`trade_${Date.now()}`,date:i.date||new Date().toISOString().split("T")[0],ticker:i.ticker?.toUpperCase()||"",type:i.type,entryPrice:Number(i.entryPrice)||0,exitPrice:Number(i.exitPrice)||0,quantity:Number(i.quantity)||0,pnl:Number(i.pnl)||0,tags:[],notes:i.notes||""};(0,ti.saveTrade)(r);let a=(0,ti.getSections)().find(e=>"Trade Notes"===e.name),s=a?a.id:"s1",o={id:`note_${Date.now()}`,sectionId:s,title:`${r.ticker} ${r.type} (${r.date})`,date:r.date,content:`
# Trade Details
- **Ticker**: ${r.ticker}
- **Direction**: ${r.type}
- **Date**: ${r.date}
- **Net P&L**: $${r.pnl.toFixed(2)}

## Notes
${r.notes||"No initial notes."}

## Review
`,tags:[]};(0,ti.saveNote)(o),e(),n(!1),l({type:"Long"})},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Date"}),(0,t.jsx)("input",{type:"date",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm",onChange:e=>l({...i,date:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Ticker"}),(0,t.jsx)("input",{type:"text",placeholder:"AAPL",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm uppercase",onChange:e=>l({...i,ticker:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Direction"}),(0,t.jsx)("div",{className:"flex bg-muted/50 rounded p-1",children:["Long","Short"].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>l({...i,type:e}),className:`flex-1 text-sm py-1 rounded transition-colors ${i.type===e?"Long"===e?"bg-green-500/20 text-green-500":"bg-red-500/20 text-red-500":"text-muted-foreground"}`,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Quantity"}),(0,t.jsx)("input",{type:"number",placeholder:"0",className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm",onChange:e=>l({...i,quantity:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Entry Price"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm",onChange:e=>l({...i,entryPrice:Number(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Exit Price"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 text-sm",onChange:e=>l({...i,exitPrice:Number(e.target.value)})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Net P&L ($)"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",required:!0,className:"w-full bg-muted/50 border border-input rounded px-3 py-2 font-bold",onChange:e=>l({...i,pnl:Number(e.target.value)})})]}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90 py-2 rounded-md font-medium",children:"Save Trade"})]})]})]})}function to(){let[e,o]=(0,r.useState)([]),[d,c]=(0,r.useState)({netPnl:0,winRate:0,profitFactor:0,avgWin:0,avgLoss:0,totalTrades:0}),u=()=>{let e=(0,ti.getTrades)();o(e),p(e)};(0,r.useEffect)(()=>{u()},[]);let p=e=>{if(0===e.length)return;let t=0,r=0,a=0,n=0,i=0,l=0;e.forEach(e=>{t+=e.pnl,e.pnl>0?(r++,a+=e.pnl,i+=e.pnl):(n+=Math.abs(e.pnl),l+=Math.abs(e.pnl))});let s=r/e.length*100,o=0===n?a:a/n,d=0===r?0:i/r,u=e.length-r==0?0:l/(e.length-r);c({netPnl:t,winRate:s,profitFactor:o,avgWin:d,avgLoss:u,totalTrades:e.length})};return(0,t.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)(ts,{onTradeAdded:u})})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[(0,t.jsx)(s.StatCard,{title:"Net P&L",value:`$${d.netPnl.toFixed(2)}`,icon:a.DollarSign,trend:d.totalTrades>0?`${d.totalTrades} trades total`:"No trades yet",trendUp:d.netPnl>=0}),(0,t.jsx)(s.StatCard,{title:"Win Rate",value:`${d.winRate.toFixed(1)}%`,icon:n.Percent,trendUp:d.winRate>=50}),(0,t.jsx)(s.StatCard,{title:"Profit Factor",value:d.profitFactor.toFixed(2),icon:i.TrendingUp,trendUp:d.profitFactor>=1.5}),(0,t.jsx)(s.StatCard,{title:"Avg Win / Loss",value:`$${d.avgWin.toFixed(0)} / $${d.avgLoss.toFixed(0)}`,icon:l.Activity}),(0,t.jsx)(s.StatCard,{title:"Avg Daily",value:`$${(d.totalTrades>0?d.netPnl/d.totalTrades:0).toFixed(2)}`,icon:l.Activity})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-7",children:[(0,t.jsxs)("div",{className:"col-span-4 space-y-4",children:[(0,t.jsx)(eK,{trades:e}),(0,t.jsx)(e3,{trades:e})]}),(0,t.jsxs)("div",{className:"col-span-3 space-y-4",children:[(0,t.jsx)(tr,{trades:e}),(0,t.jsx)(ta,{trades:e})]})]})]})}e.s(["default",()=>to],31713)}]);